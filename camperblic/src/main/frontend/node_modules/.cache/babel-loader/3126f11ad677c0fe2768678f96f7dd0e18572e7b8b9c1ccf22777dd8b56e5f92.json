{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'../../styles/communityStyles/boardLayout.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BoardLayOut=function BoardLayOut(_ref){var postings=_ref.postings;var navigate=useNavigate();var _useState=useState(15),_useState2=_slicedToArray(_useState,2),visiblePostCount=_useState2[0],setVisiblePostCount=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),addIndex=_useState6[0],setAddIndex=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLeftButtonActive=_useState8[0],setIsLeftButtonActive=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isRightButtonActive=_useState10[0],setIsRightButtonActive=_useState10[1];var handleTitleClick=function handleTitleClick(id,category){navigate(\"/boarddetail/\".concat(category,\"/\").concat(id));};var handleWriteClick=function handleWriteClick(category){navigate(\"/writepost/\".concat(category));};var handlePageClick=function handlePageClick(page){setCurrentPage(page);};useEffect(function(){if(postings.length>150){if(currentPage>Math.floor(postings.length/visiblePostCount/10)*10){setIsLeftButtonActive(true);setIsRightButtonActive(false);}else{setIsLeftButtonActive(false);setIsRightButtonActive(true);}}else{setIsLeftButtonActive(false);setIsRightButtonActive(false);}},[currentPage,postings.length,visiblePostCount]);var start=(currentPage-1)*visiblePostCount;var end=start+visiblePostCount;var visiblePostings=postings.slice(start,end);var maxLiCount=10;var pageButtons=[];var leftBtnClick=function leftBtnClick(){setAddIndex(Math.floor(currentPage/maxLiCount)*10-maxLiCount);setCurrentPage(Math.floor(currentPage/maxLiCount));};var rightBtnClick=function rightBtnClick(){setAddIndex(Math.ceil(currentPage/maxLiCount)*maxLiCount);setCurrentPage(Math.floor(currentPage/maxLiCount)+11);};var _loop=function _loop(){var pageNumber=index+1+addIndex;var pageButton=/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:currentPage===pageNumber?'active':'',onClick:function onClick(){return handlePageClick(pageNumber);},children:pageNumber})},pageNumber);pageButtons.push(pageButton);if(pageNumber*visiblePostCount>=postings.length)return\"break\";};for(var index=0;index<maxLiCount;index++){var _ret=_loop();if(_ret===\"break\")break;}return/*#__PURE__*/_jsxs(\"section\",{className:\"boardLayOut\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"topSide\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"innerWrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tableContainer\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"colgroup\",{children:[/*#__PURE__*/_jsx(\"col\",{style:{width:'10%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'15%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'45%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'20%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'10%'}})]}),/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uAE00 \\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC870\\uD68C\\uC218\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:visiblePostings.map(function(posting){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:posting.id}),/*#__PURE__*/_jsx(\"td\",{children:posting.name}),/*#__PURE__*/_jsx(\"td\",{className:\"linkTd\",onClick:function onClick(){return handleTitleClick(posting.id,posting.category);},children:posting.title}),/*#__PURE__*/_jsx(\"td\",{children:posting.createdate}),/*#__PURE__*/_jsx(\"td\",{children:posting.views})]},posting.id);})})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"writeBtn\",onClick:function onClick(){return handleWriteClick(postings.length>0?postings[0].category:'');},children:\"\\uAE00\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"pageNationWrap\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:!isLeftButtonActive,onClick:leftBtnClick,className:isLeftButtonActive?'active':'',children:\"\\uC67C\\uCABD\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pageBtnUl\",children:pageButtons}),/*#__PURE__*/_jsx(\"button\",{disabled:!isRightButtonActive,onClick:rightBtnClick,className:isRightButtonActive?'active':'',children:\"\\uC624\\uB978\\uCABD\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottomSide\"})]});};export default BoardLayOut;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","BoardLayOut","_ref","postings","navigate","_useState","_useState2","_slicedToArray","visiblePostCount","setVisiblePostCount","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","addIndex","setAddIndex","_useState7","_useState8","isLeftButtonActive","setIsLeftButtonActive","_useState9","_useState10","isRightButtonActive","setIsRightButtonActive","handleTitleClick","id","category","concat","handleWriteClick","handlePageClick","page","length","Math","floor","start","end","visiblePostings","slice","maxLiCount","pageButtons","leftBtnClick","rightBtnClick","ceil","_loop","pageNumber","index","pageButton","children","className","onClick","push","_ret","style","width","map","posting","name","title","createdate","views","disabled"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/community/BoardLayOut.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Posting } from '../../types';\nimport '../../styles/communityStyles/boardLayout.css';\n\ninterface BoardLayOutProps {\n    postings: Posting[];\n}\n\nconst BoardLayOut: React.FC<BoardLayOutProps> = ({ postings }) => {\n    const navigate = useNavigate();\n    const [visiblePostCount, setVisiblePostCount] = useState(15);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [addIndex, setAddIndex] = useState(0);\n    const [isLeftButtonActive, setIsLeftButtonActive] = useState(false);\n    const [isRightButtonActive, setIsRightButtonActive] = useState(false);\n\n    const handleTitleClick = (id: number, category: string) => {\n        navigate(`/boarddetail/${category}/${id}`);\n    };\n\n    const handleWriteClick = (category: string) => {\n        navigate(`/writepost/${category}`);\n    };\n\n    const handlePageClick = (page: number) => {\n        setCurrentPage(page);\n    };\n\n    useEffect(() => {\n        if(postings.length > 150) {\n            if (currentPage > Math.floor(postings.length / visiblePostCount / 10) * 10 ) {\n                setIsLeftButtonActive(true);\n                setIsRightButtonActive(false);\n            } else {\n                setIsLeftButtonActive(false);\n                setIsRightButtonActive(true);\n            }\n        } else {\n            setIsLeftButtonActive(false);\n            setIsRightButtonActive(false);\n        }\n\n    }, [currentPage, postings.length, visiblePostCount]);\n\n    const start = (currentPage - 1) * visiblePostCount;\n    const end = start + visiblePostCount;\n    const visiblePostings = postings.slice(start, end);\n\n    const maxLiCount = 10;\n    const pageButtons = [];\n\n    const leftBtnClick = () => {\n        setAddIndex(Math.floor(currentPage / maxLiCount) * 10 - maxLiCount);\n        setCurrentPage(Math.floor(currentPage / maxLiCount));\n    };\n\n    const rightBtnClick = () => {\n        setAddIndex(Math.ceil(currentPage / maxLiCount) * maxLiCount);\n        setCurrentPage(Math.floor(currentPage / maxLiCount) + 11);\n    };\n\n    for (let index = 0; index < maxLiCount; index++) {\n        const pageNumber = index + 1 + addIndex;\n        const pageButton = (\n            <li key={pageNumber}>\n                <button\n                    className={currentPage === pageNumber ? 'active' : ''}\n                    onClick={() => handlePageClick(pageNumber)}\n                >\n                    {pageNumber}\n                </button>\n            </li>\n        );\n        pageButtons.push(pageButton);\n        if (pageNumber * visiblePostCount >= postings.length) break;\n    }\n\n    return (\n        <section className=\"boardLayOut\">\n            <div className=\"topSide\"></div>\n            <div className=\"innerWrap\">\n                <div className=\"tableContainer\">\n                    <table>\n                        <colgroup>\n                            <col style={{ width: '10%' }} />\n                            <col style={{ width: '15%' }} />\n                            <col style={{ width: '45%' }} />\n                            <col style={{ width: '20%' }} />\n                            <col style={{ width: '10%' }} />\n                        </colgroup>\n                        <thead>\n                        <tr>\n                            <th>글 번호</th>\n                            <th>작성자</th>\n                            <th>제목</th>\n                            <th>작성일</th>\n                            <th>조회수</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {visiblePostings.map((posting) => (\n                            <tr key={posting.id}>\n                                <td>{posting.id}</td>\n                                <td>{posting.name}</td>\n                                <td\n                                    className=\"linkTd\"\n                                    onClick={() => handleTitleClick(posting.id, posting.category)}\n                                >\n                                    {posting.title}\n                                </td>\n                                <td>{posting.createdate}</td>\n                                <td>{posting.views}</td>\n                            </tr>\n                        ))}\n                        </tbody>\n                    </table>\n                </div>\n                <button className=\"writeBtn\" onClick={() => handleWriteClick(postings.length > 0 ? postings[0].category : '')}>\n                    글쓰기\n                </button>\n                <nav className=\"pageNationWrap\">\n                    <button\n                        disabled={!isLeftButtonActive}\n                        onClick={leftBtnClick}\n                        className={isLeftButtonActive ? 'active' : ''}\n                    >\n                        왼쪽\n                    </button>\n                    <ul className=\"pageBtnUl\">{pageButtons}</ul>\n                    <button\n                        disabled={!isRightButtonActive}\n                        onClick={rightBtnClick}\n                        className={isRightButtonActive ? 'active' : ''}\n                    >\n                        오른쪽\n                    </button>\n                </nav>\n            </div>\n            <div className=\"bottomSide\"></div>\n        </section>\n    );\n};\n\nexport default BoardLayOut;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}