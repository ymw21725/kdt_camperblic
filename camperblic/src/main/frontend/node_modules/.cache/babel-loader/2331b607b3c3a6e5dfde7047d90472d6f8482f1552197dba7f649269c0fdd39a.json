{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'../../../../styles/adminStyles/AdminStockLayout.css';import AdminStockUpdate from\"./AdminStockUpdate\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminStockLayout=function AdminStockLayout(_ref){var items=_ref.items;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedItem=_useState2[0],setSelectedItem=_useState2[1];var handleOpenModal=function handleOpenModal(item){setSelectedItem(item);};var handleCloseModal=function handleCloseModal(){setSelectedItem(null);};var handleStockUpdate=function handleStockUpdate(product){// 변경된 재고 수량 값을 이용하여 필요한 로직 수행\n// 예: API 호출 등\n};var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchCategory=_useState6[0],setSearchCategory=_useState6[1];// 검색 결과 상태 관리\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),searchedItems=_useState8[0],setSearchedItems=_useState8[1];// 검색어 입력 시 실행되는 함수\nvar handleSearchInputChange=function handleSearchInputChange(event){setSearchText(event.target.value);};// 카테고리 선택 시 실행되는 함수\nvar handleCategoryChange=function handleCategoryChange(event){setSearchCategory(event.target.value);};var handleSearch=function handleSearch(){// 검색어가 있을 경우에만 서버로 요청\nif(searchText.trim()!==''){axios.get(\"/adminstock/search/\".concat(searchCategory),{params:{searchText:searchText}}).then(function(response){// 검색 결과를 받아온 후 처리\nvar searchedItems=response.data;setSearchedItems(searchedItems);}).catch(function(error){console.log(error);});}};useEffect(function(){// 검색 결과가 변경될 때마다 호출되는 로직\nif(searchedItems.length>0){// 검색 결과가 있을 경우 추가 작업 수행 가능\nconsole.log(searchedItems);}},[searchedItems]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar_stock\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"admincategory_stock_layout\",value:searchCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tent\",children:\"\\uD150\\uD2B8/\\uD0C0\\uD504\"}),/*#__PURE__*/_jsx(\"option\",{value:\"chair\",children:\"\\uD14C\\uC774\\uBE14/\\uCCB4\\uC5B4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mat\",children:\"\\uCE68\\uB0AD/\\uB9E4\\uD2B8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cook\",children:\"\\uCDE8\\uC0AC\\uC6A9\\uD488\"}),/*#__PURE__*/_jsx(\"option\",{value:\"etc\",children:\"\\uC18C\\uD488\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchText,onChange:handleSearchInputChange,placeholder:\"\\uC0C1\\uD488\\uBA85\\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"\\uAC80\\uC0C9\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"AdminStock_tabcontenttable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"AdminStock_contenttableth\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD488\\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD488\\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD488\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD488\\uAC00\\uACA9(\\uC6D0)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC7AC\\uACE0\\uC218\\uB7C9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC7AC\\uACE0\\uC218\\uC815\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(searchedItems.length>0?searchedItems:items).map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"AdminStock_contenttabletd\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"AdminStock_contentImg\",src:item.imagePath})}),/*#__PURE__*/_jsx(\"td\",{children:item.itemId}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.price}),/*#__PURE__*/_jsx(\"td\",{children:item.currentStock}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"AdminStock_modifyBtn\",onClick:function onClick(){return handleOpenModal(item);},children:\"\\uC218\\uC815\"})})]});})})]}),selectedItem&&/*#__PURE__*/_jsx(AdminStockUpdate,{item:selectedItem,isOpen:true,closeModal:handleCloseModal,updateStock:handleStockUpdate})]});};export default AdminStockLayout;","map":{"version":3,"names":["React","useEffect","useState","AdminStockUpdate","axios","jsx","_jsx","jsxs","_jsxs","AdminStockLayout","_ref","items","_useState","_useState2","_slicedToArray","selectedItem","setSelectedItem","handleOpenModal","item","handleCloseModal","handleStockUpdate","product","_useState3","_useState4","searchText","setSearchText","_useState5","_useState6","searchCategory","setSearchCategory","_useState7","_useState8","searchedItems","setSearchedItems","handleSearchInputChange","event","target","value","handleCategoryChange","handleSearch","trim","get","concat","params","then","response","data","catch","error","console","log","length","children","className","onChange","type","placeholder","onClick","map","src","imagePath","itemId","name","price","currentStock","isOpen","closeModal","updateStock"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/admin/components/adminstock/AdminStockLayout.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Item, Posting} from \"../../../../types\";\r\nimport '../../../../styles/adminStyles/AdminStockLayout.css';\r\nimport AdminStockUpdate from \"./AdminStockUpdate\";\r\nimport axios from \"axios\";\r\ninterface ItemLayOutProps {\r\n    items: Item[];\r\n}\r\nconst AdminStockLayout:React.FC<ItemLayOutProps> = ({items}) => {\r\n    const [selectedItem, setSelectedItem] = useState<Item | null>(null);\r\n    const handleOpenModal = (item: Item) => {\r\n        setSelectedItem(item);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setSelectedItem(null);\r\n    };\r\n\r\n    const handleStockUpdate = (product:Item) => {\r\n        // 변경된 재고 수량 값을 이용하여 필요한 로직 수행\r\n        // 예: API 호출 등\r\n    };\r\n\r\n    const [searchText, setSearchText] = useState('');\r\n    const [searchCategory,setSearchCategory] = useState('');\r\n    // 검색 결과 상태 관리\r\n    const [searchedItems, setSearchedItems] = useState<Item[]>([]);\r\n\r\n    // 검색어 입력 시 실행되는 함수\r\n    const handleSearchInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchText(event.target.value);\r\n    };\r\n\r\n    // 카테고리 선택 시 실행되는 함수\r\n    const handleCategoryChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setSearchCategory(event.target.value);\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        // 검색어가 있을 경우에만 서버로 요청\r\n        if (searchText.trim() !== '') {\r\n            axios\r\n                .get(`/adminstock/search/${searchCategory}`, {\r\n                    params: {\r\n                        searchText: searchText,\r\n                    },\r\n                })\r\n                .then((response) => {\r\n                    // 검색 결과를 받아온 후 처리\r\n                    const searchedItems = response.data;\r\n                    setSearchedItems(searchedItems);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // 검색 결과가 변경될 때마다 호출되는 로직\r\n        if (searchedItems.length > 0) {\r\n            // 검색 결과가 있을 경우 추가 작업 수행 가능\r\n            console.log(searchedItems);\r\n        }\r\n    }, [searchedItems]);\r\n\r\n\r\n    return (\r\n        <section>\r\n            {/* 검색 입력란과 검색 버튼 */}\r\n            <div className=\"search-bar_stock\">\r\n            <select className=\"admincategory_stock_layout\" value={searchCategory} onChange={handleCategoryChange}>\r\n                <option value=\"\">카테고리 선택</option>\r\n                <option value=\"tent\">텐트/타프</option>\r\n                <option value=\"chair\">테이블/체어</option>\r\n                <option value=\"mat\">침낭/매트</option>\r\n                <option value=\"cook\">취사용품</option>\r\n                <option value=\"etc\">소품</option>\r\n            </select>\r\n                <input type=\"text\" value={searchText} onChange={handleSearchInputChange} placeholder=\"상품명검색\" />\r\n                <button onClick={handleSearch}>검색</button>\r\n            </div>\r\n            <table className='AdminStock_tabcontenttable'>\r\n                <thead>\r\n                <tr className='AdminStock_contenttableth'>\r\n                    <th>상품이미지</th>\r\n                    <th>상품코드</th>\r\n                    <th>상품명</th>\r\n                    <th>상품가격(원)</th>\r\n                    <th>재고수량</th>\r\n                    <th>재고수정</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {(searchedItems.length > 0 ? searchedItems : items).map((item) => (\r\n                <tr className='AdminStock_contenttabletd'>\r\n                    <td>\r\n                        <img className='AdminStock_contentImg' src={item.imagePath} />\r\n                    </td>\r\n                    <td>{item.itemId}</td>\r\n                    <td>{item.name}</td>\r\n                    <td>{item.price}</td>\r\n                    <td>{item.currentStock}</td>\r\n                    <td>\r\n                        <button className='AdminStock_modifyBtn' onClick={() => handleOpenModal(item)}>수정</button>\r\n                    </td>\r\n                </tr>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n            {selectedItem && (\r\n                <AdminStockUpdate\r\n                    item={selectedItem}\r\n                    isOpen={true}\r\n                    closeModal={handleCloseModal}\r\n                    updateStock={handleStockUpdate}\r\n                />\r\n            )}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default AdminStockLayout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}