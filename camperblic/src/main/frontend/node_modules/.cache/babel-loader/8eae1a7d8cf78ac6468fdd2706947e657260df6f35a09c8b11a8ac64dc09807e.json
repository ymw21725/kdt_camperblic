{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,useParams}from'react-router-dom';import axios from\"axios\";import\"../../styles/itemStyles/itemDetail.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ItemDetail=function ItemDetail(){var _useParams=useParams(),itemId=_useParams.itemId,categoryId=_useParams.categoryId;var _useState=useState(),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAddedToCart=_useState6[0],setIsAddedToCart=_useState6[1];var addToCart=function addToCart(){axios.put(\"/cart/\".concat(count),null,{withCredentials:true,params:item}).then(function(){setIsAddedToCart(true);alert(\"상품이 장바구니에 담겼습니다.\");}).catch(function(error){alert(\"상품을 장바구니에 추가하는 데 실패했습니다.\");console.error('상품을 장바구니에 추가하는 데 실패했습니다.',error);});};var handleQuantityChange=function handleQuantityChange(event){setCount(parseInt(event.target.value));};useEffect(function(){axios.get(\"/itemdetail/\".concat(categoryId,\"/\").concat(itemId)).then(function(response){return setItem(response.data);}).catch(function(error){console.error('게시물을 가져오는 데 실패했습니다.',error);});},[itemId]);if(!item){return/*#__PURE__*/_jsx(\"p\",{children:\"\\uB85C\\uB529 \\uC911...\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"detailTop\",children:\"CAMPERBLIC.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-detail-image\",children:item&&/*#__PURE__*/_jsx(\"img\",{src:item===null||item===void 0?void 0:item.imagePath,alt:item.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-content\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"item-detail-title\",children:[item===null||item===void 0?void 0:item.categoryId,\"\\uC758 \",item===null||item===void 0?void 0:item.name,\" \\uC0C1\\uC138\\uD398\\uC774\\uC9C0\\uC785\\uB2C8\\uB2E4\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"item-detail-subtitle\",children:item===null||item===void 0?void 0:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-detail-text\",children:[\"\\uAC00\\uACA9: \",item===null||item===void 0?void 0:item.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-detail-text\",children:[\"\\uC124\\uBA85: \",item===null||item===void 0?void 0:item.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-detail-text\",children:[\"\\uCE74\\uD14C\\uACE0\\uB9AC ID: \",item===null||item===void 0?void 0:item.categoryId]}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-detail-text\",children:[\"\\uC7AC\\uACE0: \",item===null||item===void 0?void 0:item.currentStock]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-container\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",children:\"\\uC218\\uB7C9:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"quantity-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"quantity\",value:count,onChange:handleQuantityChange,min:1,max:item.currentStock})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addToCart,className:\"item-detail-link\",children:\"\\uC7A5\\uBC14\\uAD6C\\uB2C8 \\uB2F4\\uAE30\"}),isAddedToCart&&/*#__PURE__*/_jsxs(\"div\",{className:\"item-detail-cart-message\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"ptagCart\",children:\"\\uC0C1\\uD488\\uC774 \\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uACBC\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"item-detail-go-to-cart-button\",children:\"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uB85C \\uC774\\uB3D9\\uD558\\uAE30\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-detail-description\",children:/*#__PURE__*/_jsx(\"img\",{src:item.detailPath,alt:item.name})})]});};export default ItemDetail;","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemDetail","_useParams","itemId","categoryId","_useState","_useState2","_slicedToArray","item","setItem","_useState3","_useState4","count","setCount","_useState5","_useState6","isAddedToCart","setIsAddedToCart","addToCart","put","concat","withCredentials","params","then","alert","catch","error","console","handleQuantityChange","event","parseInt","target","value","get","response","data","children","to","className","src","imagePath","alt","name","price","description","currentStock","htmlFor","type","id","onChange","min","max","onClick","detailPath"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/item/ItemDetail.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from \"axios\";\nimport { Item } from '../../types';\nimport \"../../styles/itemStyles/itemDetail.css\";\n\nconst ItemDetail = () => {\n    const { itemId, categoryId } = useParams<{ itemId: string, categoryId: string }>();\n    const [item, setItem] = useState<Item>();\n    const [count, setCount] = useState(1);\n    const [isAddedToCart, setIsAddedToCart] = useState(false);\n\n    const addToCart = () => {\n        axios\n            .put(`/cart/${count}`, null, { withCredentials: true, params: item })\n            .then(() => {\n                setIsAddedToCart(true);\n                alert(\"상품이 장바구니에 담겼습니다.\");\n            })\n            .catch((error) => {\n                alert(\"상품을 장바구니에 추가하는 데 실패했습니다.\");\n                console.error('상품을 장바구니에 추가하는 데 실패했습니다.', error);\n            });\n    };\n\n    const handleQuantityChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setCount(parseInt(event.target.value));\n    };\n\n    useEffect(() => {\n        axios\n            .get(`/itemdetail/${categoryId}/${itemId}`)\n            .then((response) => setItem(response.data))\n            .catch((error) => {\n                console.error('게시물을 가져오는 데 실패했습니다.', error);\n            });\n    }, [itemId]);\n\n    if (!item) {\n        return <p>로딩 중...</p>;\n    }\n\n    return (\n        <>\n            <Link to=\"/\"><h1 className=\"detailTop\">CAMPERBLIC.</h1></Link>\n            <div className=\"item-detail-container\">\n                <div className=\"item-detail-image\">\n                    {item && <img src={item?.imagePath} alt={item.name} />}\n                </div>\n                <div className=\"item-detail-content\">\n                    <h1 className=\"item-detail-title\">{item?.categoryId}의 {item?.name} 상세페이지입니다</h1>\n                    <h2 className=\"item-detail-subtitle\">{item?.name}</h2>\n                    <p className=\"item-detail-text\">가격: {item?.price}</p>\n                    <p className=\"item-detail-text\">설명: {item?.description}</p>\n                    <p className=\"item-detail-text\">카테고리 ID: {item?.categoryId}</p>\n                    <p className=\"item-detail-text\">재고: {item?.currentStock}</p>\n\n                    <div className=\"quantity-container\">\n                        <label htmlFor=\"quantity\">수량:</label>\n                        <div className=\"quantity-input\">\n                            <input\n                                type=\"number\"\n                                id=\"quantity\"\n                                value={count}\n                                onChange={handleQuantityChange}\n                                min={1}\n                                max={item.currentStock}\n                            />\n                        </div>\n                    </div>\n\n                    <button onClick={addToCart} className=\"item-detail-link\">장바구니 담기</button>\n\n                    {isAddedToCart && (\n                        <div className=\"item-detail-cart-message\">\n                            <p className=\"ptagCart\">상품이 장바구니에 담겼습니다.</p>\n                            <Link to=\"/cart\" className=\"item-detail-go-to-cart-button\">\n                                장바구니로 이동하기\n                            </Link>\n                        </div>\n                    )}\n                </div>\n            </div>\n            <div className=\"item-detail-description\">\n                {/*<p>상세 설명 내용</p>*/}\n                <img src={item.detailPath} alt={item.name} />\n            </div>\n        </>\n    );\n};\n\nexport default ItemDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}