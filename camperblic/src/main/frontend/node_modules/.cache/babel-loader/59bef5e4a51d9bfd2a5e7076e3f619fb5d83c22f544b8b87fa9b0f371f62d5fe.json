{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'../../styles/adminStyles/AdminMemberLayout.css';import axios from\"axios\";import AdminMemberDetail from\"./AdminMemberDetail\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminMemberLayout=function AdminMemberLayout(_ref){var member=_ref.member;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedMember=_useState2[0],setSelectedMember=_useState2[1];var handleOpenModal=function handleOpenModal(member){setSelectedMember(member);};var handleCloseModal=function handleCloseModal(){setSelectedMember(null);};var handleStockUpdate=function handleStockUpdate(product){// 변경된 재고 수량 값을 이용하여 필요한 로직 수행\n// 예: API 호출 등\n};// 검색어 상태 관리\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchCategory=_useState6[0],setSearchCategory=_useState6[1];// 검색 결과 상태 관리\nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),searchedMembers=_useState8[0],setSearchedMembers=_useState8[1];// 검색어 입력 시 실행되는 함수\nvar handleSearchInputChange=function handleSearchInputChange(event){setSearchText(event.target.value);};// 카테고리 선택 시 실행되는 함수\nvar handleCategoryChange=function handleCategoryChange(event){setSearchCategory(event.target.value);};var handleSearch=function handleSearch(){// 검색어가 있을 경우에만 서버로 요청\nif(searchText.trim()!==''){axios.get(\"/adminmember/search/\".concat(searchCategory),{params:{searchText:searchText}}).then(function(response){// 검색 결과를 받아온 후 처리\nvar searchedMembers=response.data;setSearchedMembers(searchedMembers);}).catch(function(error){console.log(error);});}};useEffect(function(){// 검색 결과가 변경될 때마다 호출되는 로직\nif(searchedMembers.length>0){// 검색 결과가 있을 경우 추가 작업 수행 가능\nconsole.log(searchedMembers);}},[searchedMembers]);return/*#__PURE__*/_jsxs(\"section\",{className:\"homeWidgets\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar_member\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"admincategory_member_layout\",value:searchCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"idSearch\",children:\"ID\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nameSearch\",children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"option\",{value:\"emailSearch\",children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"phoneSearch\",children:\"\\uC804\\uD654\\uBC88\\uD638\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchText,onChange:handleSearchInputChange,placeholder:\"\\uC81C\\uBAA9\\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"\\uAC80\\uC0C9\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"widgettable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"widgetmember1\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC804\\uD654\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(searchedMembers.length>0?searchedMembers:member).map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"widgetmember2\",children:[/*#__PURE__*/_jsx(\"td\",{children:item.userid}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.phone}),/*#__PURE__*/_jsx(\"td\",{children:item.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"widgetbtn\",onClick:function onClick(){return handleOpenModal(item);},children:\"detail\"})})]});})})]}),selectedMember&&/*#__PURE__*/_jsx(AdminMemberDetail,{member:selectedMember,isOpen:true,closeModal:handleCloseModal,updateStock:handleStockUpdate})]});};export default AdminMemberLayout;","map":{"version":3,"names":["React","useEffect","useState","axios","AdminMemberDetail","jsx","_jsx","jsxs","_jsxs","AdminMemberLayout","_ref","member","_useState","_useState2","_slicedToArray","selectedMember","setSelectedMember","handleOpenModal","handleCloseModal","handleStockUpdate","product","_useState3","_useState4","searchText","setSearchText","_useState5","_useState6","searchCategory","setSearchCategory","_useState7","_useState8","searchedMembers","setSearchedMembers","handleSearchInputChange","event","target","value","handleCategoryChange","handleSearch","trim","get","concat","params","then","response","data","catch","error","console","log","length","className","children","onChange","type","placeholder","onClick","map","item","userid","name","phone","email","isOpen","closeModal","updateStock"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/admin/AdminMemberLayout.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Item, Member, Posting} from \"../../types\";\r\nimport '../../styles/adminStyles/AdminMemberLayout.css';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport AdminStockUpdate from \"./components/adminstock/AdminStockUpdate\";\r\nimport AdminMemberDetail from \"./AdminMemberDetail\";\r\n\r\ninterface MemberLayOut {\r\n    member: Member[];\r\n}\r\n\r\nconst AdminMemberLayout:React.FC<MemberLayOut> = ({member}) => {\r\n    const [selectedMember, setSelectedMember] = useState<Member | null>(null);\r\n    const handleOpenModal = (member: Member) => {\r\n        setSelectedMember(member);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setSelectedMember(null);\r\n    };\r\n\r\n    const handleStockUpdate = (product:Member) => {\r\n        // 변경된 재고 수량 값을 이용하여 필요한 로직 수행\r\n        // 예: API 호출 등\r\n    };\r\n\r\n\r\n    // 검색어 상태 관리\r\n    const [searchText, setSearchText] = useState('');\r\n    const [searchCategory,setSearchCategory] = useState('');\r\n    // 검색 결과 상태 관리\r\n    const [searchedMembers, setSearchedMembers] = useState<Member[]>([]);\r\n\r\n    // 검색어 입력 시 실행되는 함수\r\n    const handleSearchInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchText(event.target.value);\r\n    };\r\n\r\n    // 카테고리 선택 시 실행되는 함수\r\n    const handleCategoryChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setSearchCategory(event.target.value);\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        // 검색어가 있을 경우에만 서버로 요청\r\n        if (searchText.trim() !== '') {\r\n            axios\r\n                .get(`/adminmember/search/${searchCategory}`, {\r\n                    params: {\r\n                        searchText: searchText,\r\n                    },\r\n                })\r\n                .then((response) => {\r\n                    // 검색 결과를 받아온 후 처리\r\n                    const searchedMembers = response.data;\r\n                    setSearchedMembers(searchedMembers);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // 검색 결과가 변경될 때마다 호출되는 로직\r\n        if (searchedMembers.length > 0) {\r\n            // 검색 결과가 있을 경우 추가 작업 수행 가능\r\n            console.log(searchedMembers);\r\n        }\r\n    }, [searchedMembers]);\r\n\r\n    return (\r\n        <section className='homeWidgets'>\r\n            <div className=\"search-bar_member\">\r\n            <select className=\"admincategory_member_layout\"value={searchCategory} onChange={handleCategoryChange}>\r\n                <option value=\"\">카테고리 선택</option>\r\n                <option value=\"idSearch\">ID</option>\r\n                <option value=\"nameSearch\">이름</option>\r\n                <option value=\"emailSearch\">이메일</option>\r\n                <option value=\"phoneSearch\">전화번호</option>\r\n            </select>\r\n\r\n                <input type=\"text\" value={searchText} onChange={handleSearchInputChange} placeholder=\"제목검색\" />\r\n                <button onClick={handleSearch}>검색</button>\r\n            </div>\r\n            <table className='widgettable'>\r\n                <thead>\r\n                <tr className='widgetmember1'>\r\n                    <th>id</th>\r\n                    <th>이름</th>\r\n                    <th>전화번호</th>\r\n                    <th>이메일</th>\r\n                    <th>상세보기</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {(searchedMembers.length > 0 ? searchedMembers : member).map((item) => (\r\n\r\n                <tr className='widgetmember2'>\r\n                    <td>{item.userid}</td>\r\n                    <td>{item.name}</td>\r\n                    <td>{item.phone}</td>\r\n                    <td>{item.email}</td>\r\n                    <td>\r\n                        <button className='widgetbtn' onClick={() => handleOpenModal(item)}>detail</button>\r\n                    </td>\r\n                </tr>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n            {selectedMember && (\r\n                <AdminMemberDetail\r\n                    member={selectedMember}\r\n                    isOpen={true}\r\n                    closeModal={handleCloseModal}\r\n                    updateStock={handleStockUpdate}\r\n                />\r\n            )}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default AdminMemberLayout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}