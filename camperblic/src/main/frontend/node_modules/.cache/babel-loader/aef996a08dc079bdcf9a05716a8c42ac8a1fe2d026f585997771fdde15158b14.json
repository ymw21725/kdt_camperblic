{"ast":null,"code":"import React from'react';import ReplyInputContainer from'./ReplyInputContainer';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function handleReplyEdit(){axios.put('/delete-replies',{params:{}}).then(function(response){alert(response.data);}).catch(function(error){alert('게시글 삭제에 실패했습니다:'+error);});}function _handleReplyDelete(category,id){axios.delete('/delete-replies',{params:{category:category,id:id}}).then(function(response){alert(response.data);}).catch(function(error){alert('댓글 삭제에 실패했습니다:'+error);});}var CommentItem=function CommentItem(_ref){var category=_ref.category,comment=_ref.comment,isReplyVisible=_ref.isReplyVisible,replyInputCommentId=_ref.replyInputCommentId,commentInput=_ref.commentInput,handleCommentInputChange=_ref.handleCommentInputChange,handleReCommentInput=_ref.handleReCommentInput,handleReply=_ref.handleReply,handleReplyCommentSubmit=_ref.handleReplyCommentSubmit,isReplyInputVisible=_ref.isReplyInputVisible,setReplyInputVisible=_ref.setReplyInputVisible,replyList=_ref.replyList;var renderReplies=function renderReplies(replies){return replies.map(function(reply){return/*#__PURE__*/_jsx(ReplyItem,{category:category,comment:reply,handleReCommentInput:handleReCommentInput,handleReplyEdit:handleReplyEdit,handleReplyDelete:function handleReplyDelete(){return _handleReplyDelete(category,reply.id);}},reply.id);});};return/*#__PURE__*/_jsxs(\"li\",{className:\"replyOne\",children:[/*#__PURE__*/_jsx(\"p\",{children:comment.name}),/*#__PURE__*/_jsx(\"p\",{children:comment.createdate}),/*#__PURE__*/_jsx(\"p\",{children:comment.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"replyButtons\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:comment.like_count}),/*#__PURE__*/_jsx(\"span\",{children:comment.dislike_count}),/*#__PURE__*/_jsx(\"span\",{className:\"replyButton\",onClick:function onClick(){return handleReCommentInput(comment.id);},children:\"\\uB2F5\\uAE00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"editButton\",onClick:handleReplyEdit,children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"span\",{className:\"deleteButton\",onClick:function onClick(){return _handleReplyDelete(category,comment.id);},children:\"\\uC0AD\\uC81C\"})]})]}),comment.reply_count>0&&/*#__PURE__*/_jsx(\"span\",{className:\"replyCountButton\",onClick:function onClick(){return handleReply(comment.id);},children:isReplyVisible?'답글 숨기기':\"\\uB2F5\\uAE00 \".concat(comment.reply_count,\"\\uAC1C\")}),replyInputCommentId===comment.id&&/*#__PURE__*/_jsx(ReplyInputContainer,{commentInput:commentInput,handleCommentInputChange:handleCommentInputChange,handleCommentSubmit:function handleCommentSubmit(){return handleReplyCommentSubmit(comment.id,commentInput,comment.tagname);},isVisible:isReplyInputVisible,setReplyInputVisible:setReplyInputVisible}),isReplyVisible&&/*#__PURE__*/_jsx(\"ul\",{className:\"replyList\",children:renderReplies(replyList)})]},comment.id);};var ReplyItem=function ReplyItem(_ref2){var category=_ref2.category,comment=_ref2.comment,handleReCommentInput=_ref2.handleReCommentInput,handleReplyEdit=_ref2.handleReplyEdit,handleReplyDelete=_ref2.handleReplyDelete;return/*#__PURE__*/_jsxs(\"li\",{className:\"replyOne rere\",children:[/*#__PURE__*/_jsx(\"p\",{children:comment.name}),/*#__PURE__*/_jsx(\"p\",{children:comment.createdate}),/*#__PURE__*/_jsx(\"p\",{children:comment.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"replyButtons\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:comment.like_count}),/*#__PURE__*/_jsx(\"span\",{children:comment.dislike_count}),/*#__PURE__*/_jsx(\"span\",{className:\"replyButton\",onClick:function onClick(){return handleReCommentInput(comment.id);},children:\"\\uB2F5\\uAE00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"editButton\",onClick:handleReplyEdit,children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"span\",{className:\"deleteButton\",onClick:function onClick(){return handleReplyDelete(category,comment.id);},children:\"\\uC0AD\\uC81C\"})]})]})]},comment.id);};export default CommentItem;","map":{"version":3,"names":["React","ReplyInputContainer","axios","jsx","_jsx","jsxs","_jsxs","handleReplyEdit","put","params","then","response","alert","data","catch","error","handleReplyDelete","category","id","delete","CommentItem","_ref","comment","isReplyVisible","replyInputCommentId","commentInput","handleCommentInputChange","handleReCommentInput","handleReply","handleReplyCommentSubmit","isReplyInputVisible","setReplyInputVisible","replyList","renderReplies","replies","map","reply","ReplyItem","className","children","name","createdate","content","like_count","dislike_count","onClick","reply_count","concat","handleCommentSubmit","tagname","isVisible","_ref2"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/community/component/CommentItem.tsx"],"sourcesContent":["import React from 'react';\nimport ReplyInputContainer from './ReplyInputContainer';\nimport { CommentOne } from '../../../types';\nimport axios from \"axios\";\n\nfunction handleReplyEdit() {\n    axios\n        .put('/delete-replies', {\n            params: {\n\n            },\n        })\n        .then((response) => {\n            alert(response.data);\n        })\n        .catch((error) => {\n            alert('게시글 삭제에 실패했습니다:' + error);\n        });\n}\n\nfunction handleReplyDelete(category : any, id: number) {\n    axios\n        .delete('/delete-replies', {\n            params: {\n                category,\n                id\n            },\n        })\n        .then((response) => {\n            alert(response.data);\n        })\n        .catch((error) => {\n            alert('댓글 삭제에 실패했습니다:' + error);\n        });\n}\n\nconst CommentItem: React.FC<{\n    category: any;\n    comment: CommentOne;\n    isReplyVisible: boolean;\n    replyInputCommentId: number | null;\n    commentInput: string;\n    handleCommentInputChange: (event: React.ChangeEvent<HTMLTextAreaElement>) => void;\n    handleReCommentInput: (commentId: number) => void;\n    handleReply: (commentId: number) => void;\n    handleReplyCommentSubmit: (commentId: number, commentInput: string, commentTagName: string) => void;\n    isReplyInputVisible: boolean;\n    setReplyInputVisible: React.Dispatch<React.SetStateAction<boolean>>;\n    replyList: CommentOne[];\n}> = ({\n          category,\n          comment,\n          isReplyVisible,\n          replyInputCommentId,\n          commentInput,\n          handleCommentInputChange,\n          handleReCommentInput,\n          handleReply,\n          handleReplyCommentSubmit,\n          isReplyInputVisible,\n          setReplyInputVisible,\n          replyList,\n      }) => {\n    const renderReplies = (replies: CommentOne[]) => {\n        return replies.map((reply) => (\n            <ReplyItem\n                category={category}\n                key={reply.id}\n                comment={reply}\n                handleReCommentInput={handleReCommentInput}\n                handleReplyEdit={handleReplyEdit}\n                handleReplyDelete={() => handleReplyDelete(category, reply.id)}\n            />\n        ));\n    };\n\n    return (\n        <li className=\"replyOne\" key={comment.id}>\n            <p>{comment.name}</p>\n            <p>{comment.createdate}</p>\n            <p>{comment.content}</p>\n            <div className=\"replyButtons\">\n                <div>\n                    <span>{comment.like_count}</span>\n                    <span>{comment.dislike_count}</span>\n                    <span className=\"replyButton\" onClick={() => handleReCommentInput(comment.id)}>답글</span>\n                </div>\n                <div>\n                    <span className=\"editButton\" onClick={handleReplyEdit}>수정</span>\n                    <span className=\"deleteButton\" onClick={() => handleReplyDelete(category, comment.id)}>삭제</span>\n                </div>\n            </div>\n            {comment.reply_count > 0 &&\n                <span className=\"replyCountButton\" onClick={() => handleReply(comment.id)}>\n                    {isReplyVisible ? '답글 숨기기' : `답글 ${comment.reply_count}개`}\n                </span>\n            }\n\n            {replyInputCommentId === comment.id && (\n                <ReplyInputContainer\n                    commentInput={commentInput}\n                    handleCommentInputChange={handleCommentInputChange}\n                    handleCommentSubmit={() => handleReplyCommentSubmit(comment.id, commentInput, comment.tagname)}\n                    isVisible={isReplyInputVisible}\n                    setReplyInputVisible={setReplyInputVisible}\n                />\n            )}\n            {isReplyVisible && <ul className=\"replyList\">{renderReplies(replyList)}</ul>}\n        </li>\n    );\n};\n\nconst ReplyItem: React.FC<{\n    category: any;\n    comment: CommentOne;\n    handleReCommentInput: (commentId: number) => void;\n    handleReplyEdit: () => void;\n    handleReplyDelete: (category: any, id: number) => void;\n}> = ({ category, comment, handleReCommentInput, handleReplyEdit, handleReplyDelete }) => {\n    return (\n        <li className=\"replyOne rere\" key={comment.id}>\n            <p>{comment.name}</p>\n            <p>{comment.createdate}</p>\n            <p>{comment.content}</p>\n            <div className=\"replyButtons\">\n                <div>\n                    <span>{comment.like_count}</span>\n                    <span>{comment.dislike_count}</span>\n                    <span className=\"replyButton\" onClick={() => handleReCommentInput(comment.id)}>답글</span>\n                </div>\n                <div>\n                    <span className=\"editButton\" onClick={handleReplyEdit}>수정</span>\n                    <span className=\"deleteButton\" onClick={() => handleReplyDelete(category, comment.id)}>삭제</span>\n                </div>\n            </div>\n        </li>\n    );\n};\n\nexport default CommentItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}