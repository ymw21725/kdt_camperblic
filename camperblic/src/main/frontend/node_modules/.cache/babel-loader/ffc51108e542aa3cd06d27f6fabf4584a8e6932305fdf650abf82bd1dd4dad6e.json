{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import\"../../styles/paymentStyles/ItemlistCart.css\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemlistCart=function ItemlistCart(_ref){var carts=_ref.carts,setFlag=_ref.setFlag,rflag=_ref.rflag;var history=useNavigate();var handleItemcount=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(cartid,itemcount,flag,price){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.put(\"/cart\",null,{params:{cartid:cartid,itemcount:itemcount,flag:flag,price:price}}).then(function(response){console.log(response.data);// window.location.href = \"/cart\";\nhistory(\"/cart\");setFlag(!rflag);}).catch(function(error){if(error.response.status===423){sessionStorage.clear();alert(\"사용자를 찾지 못했습니다. 로그인 상태를 확인해주세요.\");history(\"/login\");}console.log(error);});case 2:case\"end\":return _context.stop();}},_callee);}));return function handleItemcount(_x,_x2,_x3,_x4){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"item_cart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"list_table_wrap\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"itemlist_table\",border:1,children:[/*#__PURE__*/_jsx(\"caption\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"texttext\",children:\"\\uC0C1\\uD488 \\uC774\\uBBF8\\uC9C0, \\uC0C1\\uD488\\uBA85, \\uC218\\uB7C9, \\uAC00\\uACA9 \\uC815\\uBCF4 \\uBC0F \\uC120\\uD0DD \\uAE30\\uB2A5, \\uC0AD\\uC81C \\uAE30\\uB2A5\\uC744 \\uC81C\\uACF5\\uD558\\uB294 \\uD45C\"})}),/*#__PURE__*/_jsx(\"thead\",{className:\"itemlist_thead\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"cartlist_select\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input_check\",children:\"\\uC120\\uD0DD\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"itemimg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"img_item\",children:\"\\uC0AC\\uC9C4\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"itemTitle\",children:/*#__PURE__*/_jsx(\"span\",{className:\"itemTitle_text\",children:\"\\uC0C1\\uD488\\uBA85\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"item_count\",children:/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:\"\\uC218\\uB7C9\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"pay\",children:/*#__PURE__*/_jsx(\"span\",{className:\"price\",children:\"\\uAE08\\uC561\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"list_delete\",children:/*#__PURE__*/_jsx(\"span\",{className:\"delete_thead\",children:\"\\uC0AD\\uC81C\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"itemlist_tbody\",children:carts.map(function(cart){return/*#__PURE__*/_jsxs(\"tr\",{className:\"selected list_main\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"cartlist_select\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"{itemname}\",title:\"\\uC0C1\\uD488 \\uC120\\uD0DD\",className:\"input_check_checked\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"itemimg\",children:/*#__PURE__*/_jsx(\"img\",{src:cart.image_path,alt:\"\",className:\"img_item\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"itemTitle\",children:/*#__PURE__*/_jsx(\"span\",{title:cart.name,className:\"itemTitle_text\",children:cart.name})}),/*#__PURE__*/_jsxs(\"td\",{title:\"\\uC218\\uB7C9\\uBCC0\\uACBD\",className:\"item_count\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"decrement\",onClick:function onClick(){return handleItemcount(cart.cartid,cart.itemcount,-1,cart.price);},disabled:cart.itemcount===1// 수량이 1이면 버튼 비활성화\n,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:cart.itemcount}),/*#__PURE__*/_jsx(\"button\",{className:\"increment\",onClick:function onClick(){return handleItemcount(cart.cartid,cart.itemcount,+1,cart.price);},disabled:cart.itemcount===20// 수량이 100이면 버튼 비활성화\n,children:\"+\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"price_box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:cart.price*cart.itemcount})}),/*#__PURE__*/_jsx(\"td\",{className:\"list_delete\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",role:\"button\",className:\"btn_delete_one\",children:/*#__PURE__*/_jsx(\"span\",{className:\"delete_one\",children:\"\\uC0AD\\uC81C\"})})})]},cart.cartid);})})]})})});};export default ItemlistCart;","map":{"version":3,"names":["React","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","ItemlistCart","_ref","carts","setFlag","rflag","history","handleItemcount","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","cartid","itemcount","flag","price","wrap","_callee$","_context","prev","next","put","params","then","response","console","log","data","catch","error","status","sessionStorage","clear","alert","stop","_x","_x2","_x3","_x4","apply","arguments","className","children","border","scope","map","cart","type","id","title","src","image_path","alt","name","onClick","disabled","href","role"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/payment/ItemlistCart.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport \"../../styles/paymentStyles/ItemlistCart.css\"\nimport cart, {CartList} from \"./Cart\";\nimport axios from \"axios\";\nimport {useNavigate} from \"react-router-dom\";\n\ninterface CartListProps {\n    carts: CartList[];\n    setFlag: React.Dispatch<React.SetStateAction<boolean>>;\n    rflag: boolean;\n}\n\nconst ItemlistCart: React.FC<CartListProps > = ({carts ,setFlag, rflag }) => {\n    const history = useNavigate();\n    const handleItemcount = async (cartid: number, itemcount: number, flag:number, price:number)  => {\n        // async, await 사용이유 :\n        await axios.put(`/cart`, null, {\n            params:{\n                cartid: cartid,\n                itemcount: itemcount,\n                flag: flag,\n                price: price,\n            }\n        })\n            .then(response => {\n                console.log(response.data);\n                // window.location.href = \"/cart\";\n                history(\"/cart\");\n                setFlag(!rflag);\n            })\n            .catch(error => {\n                if (error.response.status === 423) {\n                    sessionStorage.clear();\n                    alert(\"사용자를 찾지 못했습니다. 로그인 상태를 확인해주세요.\");\n                    history(\"/login\");\n                }\n                console.log(error);\n            });\n    }\n\n    return (\n        <div className=\"item_cart\">\n            <div className=\"list_table_wrap\">\n                <table className=\"itemlist_table\" border={1}>\n                    <caption>\n                        <span className=\"texttext\">\n                        상품 이미지, 상품명, 수량, 가격 정보 및 선택 기능, 삭제 기능을 제공하는 표\n                        </span>\n                    </caption>\n\n                    <thead className=\"itemlist_thead\">\n                    <tr>\n                        <th scope=\"col\" className=\"cartlist_select\">\n                            <span className=\"input_check\">선택</span>\n                        </th>\n                        <th scope=\"col\" className=\"itemimg\">\n                            <span className=\"img_item\">사진</span>\n                        </th>\n                        <th scope=\"col\" className=\"itemTitle\">\n                            <span className=\"itemTitle_text\">상품명</span>\n                        </th>\n                        <th scope=\"col\" className=\"item_count\">\n                            <span className=\"count\">수량</span>\n                        </th>\n                        <th scope=\"col\" className=\"pay\">\n                            <span className=\"price\">금액</span>\n                        </th>\n                        <th scope=\"col\" className=\"list_delete\">\n                            <span className=\"delete_thead\">삭제</span>\n                        </th>\n                    </tr>\n                    </thead>\n\n                    <tbody className=\"itemlist_tbody\">\n\n                    {carts.map((cart) => (\n                        <tr key={cart.cartid} className=\"selected list_main\">\n                            <td className=\"cartlist_select\">\n                                <input type=\"checkbox\" id=\"{itemname}\" title=\"상품 선택\" className=\"input_check_checked\"/>\n                            </td>\n                            <td className=\"itemimg\">\n                                <img src={cart.image_path} alt=\"\" className=\"img_item\"\n                                />\n                            </td>\n                            <td className=\"itemTitle\">\n                                    <span  title={cart.name} className=\"itemTitle_text\">{cart.name}\n                                    </span>\n                            </td>\n                            {/* 수량변경 버튼 */}\n                            <td title=\"수량변경\" className=\"item_count\">\n                                <button\n                                    className=\"decrement\"\n                                    onClick={() => handleItemcount(cart.cartid, cart.itemcount, -1, cart.price)}\n                                    disabled={cart.itemcount === 1} // 수량이 1이면 버튼 비활성화\n                                >\n                                    -\n                                </button>\n                                <span className=\"count\">{cart.itemcount}</span>\n                                <button\n                                    className=\"increment\"\n                                    onClick={() => handleItemcount(cart.cartid, cart.itemcount, +1 ,cart.price)}\n                                    disabled={cart.itemcount === 20} // 수량이 100이면 버튼 비활성화\n                                >\n                                    +\n                                </button>\n                            </td>\n                            <td className=\"price_box\">\n                                <div className=\"price\">\n                                    {(cart.price*cart.itemcount)}\n                                </div>\n                            </td>\n                            <td className=\"list_delete\">\n                                <a href=\"#\" role=\"button\" className=\"btn_delete_one\"\n                                ><span className=\"delete_one\">삭제</span></a\n                                >\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};\n\nexport default ItemlistCart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}