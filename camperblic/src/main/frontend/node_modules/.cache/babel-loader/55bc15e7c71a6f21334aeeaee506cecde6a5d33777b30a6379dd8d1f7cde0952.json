{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import AdminDashboardSecond from'./components/admindashboard/AdminDashboardSecond';import AdminDashboardBottom from'./components/admindashboard/AdminDashboardBottom';import AdminDashboardOrder from\"./components/admindashboard/AdminDashboardOrder\";import{useNavigate,useLocation}from\"react-router-dom\";import AdminDashboardGraph from\"./components/admindashboard/AdminDashboardGraph\";import'../../styles/adminStyles/AdminDashboard.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminDashboard=function AdminDashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOrderStatusVisible=_useState2[0],setOrderStatusVisible=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),postings=_useState6[0],setPostings=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tmp=_useState8[0],setTmp=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),graph=_useState10[0],setGraph=_useState10[1];var navigate=useNavigate();var location=useLocation();var toggleOrderStatus=function toggleOrderStatus(){setOrderStatusVisible(!isOrderStatusVisible);};useEffect(function(){setOrderStatusVisible(false);// 컨트롤러에서 값을 받아오는 API 호출\nvar fetchDashboardData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_response$data,_items,_postings,totals;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/admindashboard\");case 3:response=_context.sent;_response$data=response.data,_items=_response$data.items,_postings=_response$data.postings,totals=_response$data.totals;setItems(_items);setPostings(_postings);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function fetchDashboardData(){return _ref.apply(this,arguments);};}();fetchDashboardData();// URL 변경\nvar path='/admindashboard';if(location.pathname!==path){window.history.replaceState(null,'',path);}},[location]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"admindashboard_first\",children:\"Camperblic\\uAD00\\uB9AC\\uC790_\\uB300\\uC2DC\\uBCF4\\uB4DC\"}),/*#__PURE__*/_jsx(AdminDashboardSecond,{tmp:tmp,isOrderStatusVisible:isOrderStatusVisible,onToggleOrderStatus:toggleOrderStatus}),/*#__PURE__*/_jsx(AdminDashboardGraph,{}),/*#__PURE__*/_jsx(AdminDashboardOrder,{tmp:tmp}),/*#__PURE__*/_jsx(AdminDashboardBottom,{items:items,postings:postings})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","AdminDashboardSecond","AdminDashboardBottom","AdminDashboardOrder","useNavigate","useLocation","AdminDashboardGraph","jsx","_jsx","jsxs","_jsxs","AdminDashboard","_useState","_useState2","_slicedToArray","isOrderStatusVisible","setOrderStatusVisible","_useState3","_useState4","items","setItems","_useState5","_useState6","postings","setPostings","_useState7","_useState8","tmp","setTmp","_useState9","_useState10","graph","setGraph","navigate","location","toggleOrderStatus","fetchDashboardData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_response$data","_items","_postings","totals","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","error","stop","apply","arguments","path","pathname","window","history","replaceState","children","className","onToggleOrderStatus"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/admin/AdminDashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport AdminDashboardSecond from './components/admindashboard/AdminDashboardSecond';\nimport AdminDashboardBottom from './components/admindashboard/AdminDashboardBottom';\nimport AdminDashboardOrder from \"./components/admindashboard/AdminDashboardOrder\";\nimport {GraphDTO, Item, Posting, Tmp} from \"../../types\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport AdminDashboardGraph from \"./components/admindashboard/AdminDashboardGraph\";\nimport '../../styles/adminStyles/AdminDashboard.css';\n\nconst AdminDashboard = () => {\n    const [isOrderStatusVisible, setOrderStatusVisible] = useState(false);\n    const [items, setItems] = useState<Item[]>([]);\n    const [postings, setPostings] = useState<Posting[]>([]);\n    const [tmp,setTmp] = useState<Tmp[]>([]);\n    const [graph,setGraph] = useState<GraphDTO[]>([]);\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const toggleOrderStatus = () => {\n        setOrderStatusVisible(!isOrderStatusVisible);\n    };\n\n    useEffect(() => {\n        setOrderStatusVisible(false);\n\n        // 컨트롤러에서 값을 받아오는 API 호출\n        const fetchDashboardData = async () => {\n            try {\n                const response = await axios.get(\"/admindashboard\");\n                const { items, postings, totals } = response.data;\n                setItems(items);\n                setPostings(postings);\n            } catch (error) {\n                console.error(error);\n            }\n        };\n        fetchDashboardData();\n\n        // URL 변경\n        const path = '/admindashboard';\n        if (location.pathname !== path) {\n            window.history.replaceState(null, '', path);\n        }\n    }, [location]);\n\n    return (\n        <section>\n            <h1 className='admindashboard_first'>Camperblic관리자_대시보드</h1>\n            <AdminDashboardSecond\n                tmp={tmp}\n                isOrderStatusVisible={isOrderStatusVisible}\n                onToggleOrderStatus={toggleOrderStatus}\n            />\n            <AdminDashboardGraph/>\n            <AdminDashboardOrder tmp={tmp}/>\n            <AdminDashboardBottom items={items} postings={postings} />\n        </section>\n    );\n};\n\nexport default AdminDashboard;\n"],"mappings":"qdAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,oBAAoB,KAAM,kDAAkD,CACnF,MAAO,CAAAC,oBAAoB,KAAM,kDAAkD,CACnF,MAAO,CAAAC,mBAAmB,KAAM,iDAAiD,CAEjF,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,CAAAC,mBAAmB,KAAM,iDAAiD,CACjF,MAAO,6CAA6C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErD,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzB,IAAAC,SAAA,CAAsDb,QAAQ,CAAC,KAAK,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9DG,oBAAoB,CAAAF,UAAA,IAAEG,qBAAqB,CAAAH,UAAA,IAClD,IAAAI,UAAA,CAA0BlB,QAAQ,CAAS,EAAE,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAgCtB,QAAQ,CAAY,EAAE,CAAC,CAAAuB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhDE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAqB1B,QAAQ,CAAQ,EAAE,CAAC,CAAA2B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAjCE,GAAG,CAAAD,UAAA,IAACE,MAAM,CAAAF,UAAA,IACjB,IAAAG,UAAA,CAAyB9B,QAAQ,CAAa,EAAE,CAAC,CAAA+B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA1CE,KAAK,CAAAD,WAAA,IAACE,QAAQ,CAAAF,WAAA,IACrB,GAAM,CAAAG,QAAQ,CAAG7B,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAA8B,QAAQ,CAAG7B,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAA8B,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC5BnB,qBAAqB,CAAC,CAACD,oBAAoB,CAAC,CAChD,CAAC,CAEDjB,SAAS,CAAC,UAAM,CACZkB,qBAAqB,CAAC,KAAK,CAAC,CAE5B;AACA,GAAM,CAAAoB,kBAAkB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,cAAA,CAAAC,MAAA,CAAAC,SAAA,CAAAC,MAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEI,CAAAnD,KAAK,CAACoD,GAAG,CAAC,iBAAiB,CAAC,QAA7CV,QAAQ,CAAAO,QAAA,CAAAI,IAAA,CAAAV,cAAA,CACsBD,QAAQ,CAACY,IAAI,CAAzCnC,MAAK,CAAAwB,cAAA,CAALxB,KAAK,CAAEI,SAAQ,CAAAoB,cAAA,CAARpB,QAAQ,CAAEuB,MAAM,CAAAH,cAAA,CAANG,MAAM,CAC/B1B,QAAQ,CAACD,MAAK,CAAC,CACfK,WAAW,CAACD,SAAQ,CAAC,CAAC0B,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAEtBO,OAAO,CAACC,KAAK,CAAAR,QAAA,CAAAM,EAAM,CAAC,CAAC,yBAAAN,QAAA,CAAAS,IAAA,MAAAjB,OAAA,gBAE5B,kBATK,CAAAL,kBAAkBA,CAAA,SAAAC,IAAA,CAAAsB,KAAA,MAAAC,SAAA,OASvB,CACDxB,kBAAkB,CAAC,CAAC,CAEpB;AACA,GAAM,CAAAyB,IAAI,CAAG,iBAAiB,CAC9B,GAAI3B,QAAQ,CAAC4B,QAAQ,GAAKD,IAAI,CAAE,CAC5BE,MAAM,CAACC,OAAO,CAACC,YAAY,CAAC,IAAI,CAAE,EAAE,CAAEJ,IAAI,CAAC,CAC/C,CACJ,CAAC,CAAE,CAAC3B,QAAQ,CAAC,CAAC,CAEd,mBACIxB,KAAA,YAAAwD,QAAA,eACI1D,IAAA,OAAI2D,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,uDAAkB,CAAI,CAAC,cAC5D1D,IAAA,CAACP,oBAAoB,EACjB0B,GAAG,CAAEA,GAAI,CACTZ,oBAAoB,CAAEA,oBAAqB,CAC3CqD,mBAAmB,CAAEjC,iBAAkB,CAC1C,CAAC,cACF3B,IAAA,CAACF,mBAAmB,GAAC,CAAC,cACtBE,IAAA,CAACL,mBAAmB,EAACwB,GAAG,CAAEA,GAAI,CAAC,CAAC,cAChCnB,IAAA,CAACN,oBAAoB,EAACiB,KAAK,CAAEA,KAAM,CAACI,QAAQ,CAAEA,QAAS,CAAE,CAAC,EACrD,CAAC,CAElB,CAAC,CAED,cAAe,CAAAZ,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}