{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import\"../../styles/paymentStyles/Order.css\";import TitleLayout from\"./TitleLayout\";import ChargeBox from\"./ChargeBox\";import ItemlistOrder from\"./ItemlistOrder\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Order=function Order(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];// 로딩 상태를 관리하기 위한 상태 변수 추가\nvar history=useNavigate();useEffect(function(){axios.get('/cart',{withCredentials:true}).then(function(response){console.log(response.data);setOrders(response.data);setLoading(false);// 로딩 상태 변경\n}).catch(function(error){if(error.response.status===423){sessionStorage.clear();alert(\"사용자를 찾지 못했습니다. 로그인 상태를 확인해주세요.\");history(\"/login\");}console.log(error);setLoading(false);// 로딩 상태 변경\n});},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// 로딩 중일 때 표시할 UI\n}if(orders===null){// 응답이 도착하지 않았거나 null인 경우\nreturn/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// 또는 로딩 중을 나타내는 다른 UI를 표시할 수 있습니다.\n}return/*#__PURE__*/_jsx(\"section\",{className:\"orderLayout\",children:/*#__PURE__*/_jsxs(\"div\",{className:'section_wrap',children:[/*#__PURE__*/_jsx(\"div\",{className:'list_section',children:/*#__PURE__*/_jsxs(\"div\",{className:'list_inner',children:[/*#__PURE__*/_jsx(TitleLayout,{}),/*#__PURE__*/_jsx(ItemlistOrder,{orders:orders})]})}),/*#__PURE__*/_jsx(ChargeBox,{}),/*#__PURE__*/_jsx(\"div\",{className:'progress_section'})]})});};export default Order;","map":{"version":3,"names":["React","useEffect","useState","TitleLayout","ChargeBox","ItemlistOrder","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Order","_useState","_useState2","_slicedToArray","orders","setOrders","_useState3","_useState4","loading","setLoading","history","get","withCredentials","then","response","console","log","data","catch","error","status","sessionStorage","clear","alert","children","className"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/payment/Order.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport \"../../styles/paymentStyles/Order.css\";\nimport TitleLayout from \"./TitleLayout\";\nimport ChargeBox from \"./ChargeBox\";\nimport ItemlistOrder from \"./ItemlistOrder\";\nimport axios from \"axios\";\nimport {useNavigate} from \"react-router-dom\";\n\nexport interface OrderList {\n    cartid: number,\n    image_path: string,\n    name: string,\n    itemcount: number,\n    price: number,\n}\n\n\nconst Order = () => {\n    const [orders, setOrders] = useState<OrderList[] | null>(null);\n    const [loading, setLoading] = useState(true); // 로딩 상태를 관리하기 위한 상태 변수 추가\n    const history = useNavigate();\n\n    useEffect(() => {\n        axios.get('/cart', {withCredentials : true})\n            .then(response => {\n                console.log(response.data);\n                setOrders(response.data);\n                setLoading(false); // 로딩 상태 변경\n            })\n            .catch(error => {\n                if (error.response.status === 423) {\n                    sessionStorage.clear();\n                    alert(\"사용자를 찾지 못했습니다. 로그인 상태를 확인해주세요.\");\n                    history(\"/login\")\n                }\n                console.log(error);\n                setLoading(false); // 로딩 상태 변경\n            })\n\n    }, []);\n\n    if (loading) {\n        return <div>Loading...</div>; // 로딩 중일 때 표시할 UI\n    }\n\n    if (orders === null) { // 응답이 도착하지 않았거나 null인 경우\n        return <div>Loading...</div>; // 또는 로딩 중을 나타내는 다른 UI를 표시할 수 있습니다.\n    }\n\n    return (\n        <section className={\"orderLayout\"}>\n            <div className={'section_wrap'}>\n                <div className={'list_section'}>\n                    <div className={'list_inner'}>\n                        <TitleLayout/>\n                        <ItemlistOrder orders={orders}/>\n                    </div>\n                </div>\n\n                <ChargeBox />\n\n                <div className={'progress_section'}></div>\n            </div>\n        </section>\n    );\n};\n\nexport default Order;"],"mappings":"uJAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAO,sCAAsC,CAC7C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,WAAW,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAW7C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAChB,IAAAC,SAAA,CAA4BX,QAAQ,CAAqB,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvDG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA8BhB,QAAQ,CAAC,IAAI,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAAoB;AAC9C,GAAM,CAAAG,OAAO,CAAGf,WAAW,CAAC,CAAC,CAE7BN,SAAS,CAAC,UAAM,CACZK,KAAK,CAACiB,GAAG,CAAC,OAAO,CAAE,CAACC,eAAe,CAAG,IAAI,CAAC,CAAC,CACvCC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAC1BZ,SAAS,CAACS,QAAQ,CAACG,IAAI,CAAC,CACxBR,UAAU,CAAC,KAAK,CAAC,CAAE;AACvB,CAAC,CAAC,CACDS,KAAK,CAAC,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACL,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CAC/BC,cAAc,CAACC,KAAK,CAAC,CAAC,CACtBC,KAAK,CAAC,gCAAgC,CAAC,CACvCb,OAAO,CAAC,QAAQ,CAAC,CACrB,CACAK,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC,CAClBV,UAAU,CAAC,KAAK,CAAC,CAAE;AACvB,CAAC,CAAC,CAEV,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,CACT,mBAAOX,IAAA,QAAA2B,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAClC,CAEA,GAAIpB,MAAM,GAAK,IAAI,CAAE,CAAE;AACnB,mBAAOP,IAAA,QAAA2B,QAAA,CAAK,YAAU,CAAK,CAAC,CAAE;AAClC,CAEA,mBACI3B,IAAA,YAAS4B,SAAS,CAAE,aAAc,CAAAD,QAAA,cAC9BzB,KAAA,QAAK0B,SAAS,CAAE,cAAe,CAAAD,QAAA,eAC3B3B,IAAA,QAAK4B,SAAS,CAAE,cAAe,CAAAD,QAAA,cAC3BzB,KAAA,QAAK0B,SAAS,CAAE,YAAa,CAAAD,QAAA,eACzB3B,IAAA,CAACN,WAAW,GAAC,CAAC,cACdM,IAAA,CAACJ,aAAa,EAACW,MAAM,CAAEA,MAAO,CAAC,CAAC,EAC/B,CAAC,CACL,CAAC,cAENP,IAAA,CAACL,SAAS,GAAE,CAAC,cAEbK,IAAA,QAAK4B,SAAS,CAAE,kBAAmB,CAAM,CAAC,EACzC,CAAC,CACD,CAAC,CAElB,CAAC,CAED,cAAe,CAAAzB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}