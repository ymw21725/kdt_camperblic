{"ast":null,"code":"import _defineProperty from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'../../styles/loginStyles/FindAccount.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FindAccount=function FindAccount(){var _useState=useState({name:'',email:'',code:''}),_useState2=_slicedToArray(_useState,2),userFindEmailData=_useState2[0],setuserFindEmailData=_useState2[1];var history=useNavigate();var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),flag=_useState4[0],setFlag=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),check=_useState6[0],setCheck=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEmailSending=_useState8[0],setIsEmailSending=_useState8[1];// 이메일 전송 중 여부를 저장하는 상태 추가\nvar handleInputChange=function handleInputChange(e){setuserFindEmailData(_objectSpread(_objectSpread({},userFindEmailData),{},_defineProperty({},e.target.name,e.target.value)));};var handleChangeForm=function handleChangeForm(e){e.preventDefault();setIsEmailSending(true);// 이메일 전송 중으로 설정\naxios.get('/sendemail',{params:userFindEmailData}).then(function(response){if(response.status===200){alert(response.data);setFlag(1);setCheck(true);setIsEmailSending(false);}}).catch(function(error){if(error.response.status===404){alert('사용자를 찾지 못했습니다. 입력하신 정보를 확인해주세요.');}else if(error.response.status===406){alert(error.response.data);}else if(error.response.status===500){alert('서버에 문제가 있습니다. 잠시만 기다려주세요.');}else{alert(error.response.data);}console.log(error);setIsEmailSending(false);});};var handlCheckCode=function handlCheckCode(e){e.preventDefault();axios.get('/checkcode',{params:userFindEmailData}).then(function(response){alert(response.data);}).catch(function(error){alert(error.response.data);history('/findaccount');});};return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"findAccountMainDiv\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"findAccountFormDiv\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"findAccountH1\",children:\"CAMPERBLIC\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"findAccountH3\",children:\"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"findAccountInputDiv\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userName\",children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",id:\"username\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userEmail\",children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",id:\"userEmail\",onChange:handleInputChange}),!check?/*#__PURE__*/_jsx(\"button\",{id:\"sendEmailBtn\",onClick:handleChangeForm,disabled:isEmailSending,children:isEmailSending?'전송중...':'이메일 인증코드 받기'}):/*#__PURE__*/_jsxs(\"div\",{className:\"reSendEmail\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uBA54\\uC77C\\uC744 \\uBABB\\uBC1B\\uC73C\\uC168\\uC73C\\uBA74 \\uC7AC\\uC804\\uC1A1\\uBC84\\uD2BC\\uC744 \\uB20C\\uB7EC\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"button\",{id:\"sendEmailBtn\",onClick:handleChangeForm,disabled:isEmailSending,children:isEmailSending?'전송중...':'재전송 하기'})]})]}),flag===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"codeVerificationDiv\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"codeVerificationH3\",children:\"\\uC778\\uC99D \\uCF54\\uB4DC\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC778\\uC99D \\uCF54\\uB4DC 6\\uC790\\uB9AC\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",onChange:handleInputChange,name:\"code\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlCheckCode,children:\"\\uCF54\\uB4DC \\uC778\\uC99D\"})]})]})})});};export default FindAccount;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","FindAccount","_useState","name","email","code","_useState2","_slicedToArray","userFindEmailData","setuserFindEmailData","history","_useState3","_useState4","flag","setFlag","_useState5","_useState6","check","setCheck","_useState7","_useState8","isEmailSending","setIsEmailSending","handleInputChange","e","_objectSpread","_defineProperty","target","value","handleChangeForm","preventDefault","get","params","then","response","status","alert","data","catch","error","console","log","handlCheckCode","children","className","htmlFor","type","placeholder","id","onChange","onClick","disabled"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/login/FindAccount.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../../styles/loginStyles/FindAccount.css';\r\n\r\ninterface findEmail {\r\n    name: string;\r\n    email: string;\r\n    code: string;\r\n}\r\n\r\nconst FindAccount = () => {\r\n    const [userFindEmailData, setuserFindEmailData] = useState<findEmail>({\r\n        name: '',\r\n        email: '',\r\n        code: '',\r\n    });\r\n\r\n    const history = useNavigate();\r\n    const [flag, setFlag] = useState(0);\r\n    const [check, setCheck] = useState(false);\r\n    const [isEmailSending, setIsEmailSending] = useState(false); // 이메일 전송 중 여부를 저장하는 상태 추가\r\n\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setuserFindEmailData({ ...userFindEmailData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleChangeForm = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        e.preventDefault();\r\n        setIsEmailSending(true); // 이메일 전송 중으로 설정\r\n        axios\r\n            .get('/sendemail', { params: userFindEmailData })\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    alert(response.data);\r\n                    setFlag(1);\r\n                    setCheck(true);\r\n                    setIsEmailSending(false);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response.status === 404) {\r\n                    alert('사용자를 찾지 못했습니다. 입력하신 정보를 확인해주세요.');\r\n                } else if (error.response.status === 406) {\r\n                    alert(error.response.data);\r\n                } else if (error.response.status === 500) {\r\n                    alert('서버에 문제가 있습니다. 잠시만 기다려주세요.');\r\n                } else {\r\n                    alert(error.response.data);\r\n                }\r\n                console.log(error);\r\n                setIsEmailSending(false);\r\n            });\r\n    };\r\n\r\n    const handlCheckCode = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        e.preventDefault();\r\n        axios\r\n            .get('/checkcode', { params: userFindEmailData })\r\n            .then((response) => {\r\n                alert(response.data);\r\n            })\r\n            .catch((error) => {\r\n                alert(error.response.data);\r\n                history('/findaccount');\r\n            });\r\n    };\r\n\r\n    return (\r\n        <section>\r\n            <div className={\"findAccountMainDiv\"}>\r\n                <div className=\"findAccountFormDiv\">\r\n                    <h1 className=\"findAccountH1\">CAMPERBLIC</h1>\r\n                    <h3 className=\"findAccountH3\">아이디 찾기</h3>\r\n                    <div className=\"findAccountInputDiv\">\r\n                        <label htmlFor=\"userName\">이름</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            placeholder=\"이름을 입력해주세요.\"\r\n                            id=\"username\"\r\n                            onChange={handleInputChange}\r\n                        />\r\n                        <label htmlFor=\"userEmail\">이메일</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"email\"\r\n                            placeholder=\"이메일을 입력해주세요.\"\r\n                            id=\"userEmail\"\r\n                            onChange={handleInputChange}\r\n                        />\r\n                        {!check ? (\r\n                            <button id=\"sendEmailBtn\" onClick={handleChangeForm} disabled={isEmailSending}>\r\n                                {isEmailSending ? '전송중...' : '이메일 인증코드 받기'}\r\n                            </button>\r\n                        ) : (\r\n                            <div className={\"reSendEmail\"}>\r\n                                <span>메일을 못받으셨으면 재전송버튼을 눌러주세요</span>\r\n                                <button id=\"sendEmailBtn\" onClick={handleChangeForm} disabled={isEmailSending}>\r\n                                    {isEmailSending ? '전송중...' : '재전송 하기'}\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {flag === 1 && (\r\n                        <div className=\"codeVerificationDiv\">\r\n                            <h3 className=\"codeVerificationH3\">인증 코드</h3>\r\n                            <br />\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"인증 코드 6자리를 입력해주세요.\"\r\n                                onChange={handleInputChange}\r\n                                name=\"code\"\r\n                            />\r\n                            <button onClick={handlCheckCode}>코드 인증</button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default FindAccount;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}