{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams,useLocation}from'react-router-dom';import'../../styles/communityStyles/boardWrite.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BoardWrite=function BoardWrite(){var _useParams=useParams(),category=_useParams.category;var location=useLocation();var searchParams=new URLSearchParams(location.search);var editMode=searchParams.get('edit')==='true';var postId=searchParams.get('id');var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];useEffect(function(){if(editMode&&postId){axios.get(\"/boarddetail/\".concat(category,\"/\").concat(postId)).then(function(response){var postingDetail=response.data;setTitle(postingDetail.title);setName(postingDetail.name);setContent(postingDetail.content);}).catch(function(error){console.log('게시글을 가져오는 데 실패했습니다:',error);});}},[category,editMode,postId]);var handleTitleChange=function handleTitleChange(e){setTitle(e.target.value);};var handleNameChange=function handleNameChange(e){setName(e.target.value);};var handleContentChange=function handleContentChange(e){setContent(e.target.value);};var postData={title:title,name:name,content:content};var handleFormSubmit=function handleFormSubmit(e){e.preventDefault();if(editMode&&postId){// 수정 모드인 경우 게시글 업데이트 로직 수행\naxios.put(\"/update/\".concat(category,\"/\").concat(postId),postData).then(function(response){console.log('게시글이 성공적으로 업데이트되었습니다.');// 게시글 업데이트 후에 필요한 동작 수행\n// 예: 업데이트 성공 시 페이지 이동 등\n}).catch(function(error){console.log('게시글 업데이트에 실패했습니다:',error);});}else{// 새로운 게시글 등록 로직 수행\naxios.post(\"/write/\".concat(category),postData).then(function(response){console.log('게시글이 성공적으로 등록되었습니다.');// 게시글 등록 후에 필요한 동작 수행\n// 예: 등록 성공 시 페이지 이동 등\n}).catch(function(error){console.log('게시글 등록에 실패했습니다:',error);});}};return/*#__PURE__*/_jsxs(\"section\",{className:\"writeOutterWrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wirteDecoTop\"}),/*#__PURE__*/_jsx(\"article\",{className:\"writeInnerWrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"writeBoxTop\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[category,\" \\uAE00\\uC4F0\\uAE30\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\uAE00 \\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",value:title,onChange:handleTitleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"\\uC784\\uC2DC \\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:name,onChange:handleNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"\\uBCF8\\uBB38 \\uC791\\uC131\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",value:content,onChange:handleContentChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonGroup\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editMode?'수정':'등록'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:\"\\uCDE8\\uC18C\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"wirteDecoBottom\"})]});};export default BoardWrite;","map":{"version":3,"names":["React","useState","useEffect","useParams","useLocation","axios","jsx","_jsx","jsxs","_jsxs","BoardWrite","_useParams","category","location","searchParams","URLSearchParams","search","editMode","get","postId","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","name","setName","_useState5","_useState6","content","setContent","concat","then","response","postingDetail","data","catch","error","console","log","handleTitleChange","e","target","value","handleNameChange","handleContentChange","postData","handleFormSubmit","preventDefault","put","post","className","children","onSubmit","htmlFor","type","id","onChange"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/community/BoardWrite.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport '../../styles/communityStyles/boardWrite.css';\nimport axios from 'axios';\n\nconst BoardWrite: React.FC = () => {\n    const { category } = useParams<{ category: string }>();\n    const location = useLocation();\n    const searchParams = new URLSearchParams(location.search);\n    const editMode = searchParams.get('edit') === 'true';\n    const postId = searchParams.get('id');\n    const [title, setTitle] = useState('');\n    const [name, setName] = useState('');\n    const [content, setContent] = useState('');\n\n    useEffect(() => {\n        if (editMode && postId) {\n            axios\n                .get(`/boarddetail/${category}/${postId}`)\n                .then((response) => {\n                    const postingDetail = response.data;\n\n                    setTitle(postingDetail.title);\n                    setName(postingDetail.name);\n                    setContent(postingDetail.content);\n                })\n                .catch((error) => {\n                    console.log('게시글을 가져오는 데 실패했습니다:', error);\n                });\n        }\n    }, [category, editMode, postId]);\n\n    const handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setTitle(e.target.value);\n    };\n\n    const handleNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setName(e.target.value);\n    };\n\n    const handleContentChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n        setContent(e.target.value);\n    };\n\n    const postData = {\n        title: title,\n        name: name,\n        content: content,\n    };\n\n    const handleFormSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        if (editMode && postId) {\n            // 수정 모드인 경우 게시글 업데이트 로직 수행\n            axios\n                .put(`/update/${category}/${postId}`, postData)\n                .then((response) => {\n                    console.log('게시글이 성공적으로 업데이트되었습니다.');\n                    // 게시글 업데이트 후에 필요한 동작 수행\n                    // 예: 업데이트 성공 시 페이지 이동 등\n                })\n                .catch((error) => {\n                    console.log('게시글 업데이트에 실패했습니다:', error);\n                });\n        } else {\n            // 새로운 게시글 등록 로직 수행\n            axios\n                .post(`/write/${category}`, postData)\n                .then((response) => {\n                    console.log('게시글이 성공적으로 등록되었습니다.');\n                    // 게시글 등록 후에 필요한 동작 수행\n                    // 예: 등록 성공 시 페이지 이동 등\n                })\n                .catch((error) => {\n                    console.log('게시글 등록에 실패했습니다:', error);\n                });\n        }\n    };\n\n    return (\n        <section className=\"writeOutterWrap\">\n            <div className=\"wirteDecoTop\"></div>\n\n            <article className=\"writeInnerWrap\">\n                <div className=\"writeBoxTop\">\n                    <h3>{category} 글쓰기</h3>\n                    <form onSubmit={handleFormSubmit}>\n                        {/* 글 제목 */}\n                        <div className=\"inputGroup\">\n                            <label htmlFor=\"title\">글 제목</label>\n                            <input\n                                type=\"text\"\n                                id=\"title\"\n                                value={title}\n                                onChange={handleTitleChange}\n                            />\n                        </div>\n\n                        {/* 임시 아이디 */}\n                        <div className=\"inputGroup\">\n                            <label htmlFor=\"name\">임시 아이디</label>\n                            <input\n                                type=\"text\"\n                                id=\"name\"\n                                value={name}\n                                onChange={handleNameChange}\n                            />\n                        </div>\n\n                        {/* 본문 작성 */}\n                        <div className=\"inputGroup\">\n                            <label htmlFor=\"content\">본문 작성</label>\n                            <textarea\n                                id=\"content\"\n                                value={content}\n                                onChange={handleContentChange}\n                            ></textarea>\n                        </div>\n\n                        {/* 버튼 그룹 */}\n                        <div className=\"buttonGroup\">\n                            <button type=\"submit\">\n                                {editMode ? '수정' : '등록'}\n                            </button>\n                            <button type=\"button\">취소</button>\n                        </div>\n                    </form>\n                </div>\n            </article>\n\n            <div className=\"wirteDecoBottom\"></div>\n        </section>\n    );\n};\n\nexport default BoardWrite;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}