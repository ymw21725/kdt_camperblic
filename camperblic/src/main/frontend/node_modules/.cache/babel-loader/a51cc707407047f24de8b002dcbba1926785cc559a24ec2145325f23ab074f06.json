{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'../../../../styles/adminStyles/admindashboard/AdminDashboardOrderLayout.css';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminOrderLayout=function AdminOrderLayout(_ref){var tmp=_ref.tmp;var formatDate=function formatDate(dateString){var date=new Date(dateString);var year=date.getFullYear();var month=String(date.getMonth()+1).padStart(2,'0');var day=String(date.getDate()).padStart(2,'0');var hour=String(date.getHours()).padStart(2,'0');var minute=String(date.getMinutes()).padStart(2,'0');var weekday=['일','월','화','수','목','금','토'][date.getDay()];return\"\".concat(year,\".\").concat(month,\".\").concat(day,\" \").concat(weekday,\" \").concat(hour,\"\\uC2DC\").concat(minute,\"\\uBD84\");};// 검색어 상태 관리\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchCategory=_useState4[0],setSearchCategory=_useState4[1];// 검색 결과 상태 관리\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchedOrders=_useState6[0],setSearchedOrders=_useState6[1];// 검색어 입력 시 실행되는 함수\nvar handleSearchInputChange=function handleSearchInputChange(event){setSearchText(event.target.value);};// 카테고리 선택 시 실행되는 함수\nvar handleCategoryChange=function handleCategoryChange(event){setSearchCategory(event.target.value);};var handleSearch=function handleSearch(){// 검색어가 있을 경우에만 서버로 요청\nif(searchText.trim()!==''){axios.get(\"/admindashboard/order/search/\".concat(searchCategory),{params:{searchText:searchText}}).then(function(response){// 검색 결과를 받아온 후 처리\nvar searchedOrders=response.data;setSearchedOrders(searchedOrders);}).catch(function(error){console.log(error);});}};useEffect(function(){// 검색 결과가 변경될 때마다 호출되는 로직\nif(searchedOrders.length>0){// 검색 결과가 있을 경우 추가 작업 수행 가능\nconsole.log(searchedOrders);}},[searchedOrders]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar_order\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"admincategoryorder_layout\",value:searchCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"orderid\",children:\"\\uC0C1\\uD488ID\"}),/*#__PURE__*/_jsx(\"option\",{value:\"userid\",children:\"\\uC8FC\\uBB38\\uC790ID\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchText,onChange:handleSearchInputChange,placeholder:\"\\uC81C\\uBAA9\\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"\\uAC80\\uC0C9\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"AdminBoard_table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"AdminBoardFormth\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC8FC\\uBB38\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC8FC\\uBB38ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uAC00\\uACA9(\\uC6D0)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC8FC\\uBB38\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uBC30\\uC1A1\\uC0C1\\uD0DC\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(searchedOrders.length>0?searchedOrders:tmp).map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"AdminBoardFormtd\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.orderid}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.userid}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.deliverycost}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:formatDate(item.orderdate)}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.orderstatus})]});})})]})]});};export default AdminOrderLayout;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminOrderLayout","_ref","tmp","formatDate","dateString","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hour","getHours","minute","getMinutes","weekday","getDay","concat","_useState","_useState2","_slicedToArray","searchText","setSearchText","_useState3","_useState4","searchCategory","setSearchCategory","_useState5","_useState6","searchedOrders","setSearchedOrders","handleSearchInputChange","event","target","value","handleCategoryChange","handleSearch","trim","get","params","then","response","data","catch","error","console","log","length","children","className","onChange","type","placeholder","onClick","map","item","orderid","userid","deliverycost","orderdate","orderstatus"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/admin/components/adminorder/AdminOrderLayout.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Item, Posting, Tmp} from \"../../../../types\";\r\nimport '../../../../styles/adminStyles/admindashboard/AdminDashboardOrderLayout.css';\r\nimport axios from \"axios\";\r\n\r\ninterface TmpLayOut {\r\n    tmp: Tmp[];\r\n}\r\nconst AdminOrderLayout:React.FC<TmpLayOut> = ({tmp}) => {\r\n\r\n    const formatDate = (dateString: string) => {\r\n        const date = new Date(dateString);\r\n        const year = date.getFullYear();\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const hour = String(date.getHours()).padStart(2, '0');\r\n        const minute = String(date.getMinutes()).padStart(2, '0');\r\n        const weekday = ['일', '월', '화', '수', '목', '금', '토'][date.getDay()];\r\n\r\n        return `${year}.${month}.${day} ${weekday} ${hour}시${minute}분`;\r\n    };\r\n\r\n    // 검색어 상태 관리\r\n    const [searchText, setSearchText] = useState('');\r\n    const [searchCategory,setSearchCategory] = useState('');\r\n    // 검색 결과 상태 관리\r\n    const [searchedOrders, setSearchedOrders] = useState<Tmp[]>([]);\r\n\r\n    // 검색어 입력 시 실행되는 함수\r\n    const handleSearchInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchText(event.target.value);\r\n    };\r\n\r\n    // 카테고리 선택 시 실행되는 함수\r\n    const handleCategoryChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setSearchCategory(event.target.value);\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        // 검색어가 있을 경우에만 서버로 요청\r\n        if (searchText.trim() !== '') {\r\n            axios\r\n                .get(`/admindashboard/order/search/${searchCategory}`, {\r\n                    params: {\r\n                        searchText: searchText,\r\n                    },\r\n                })\r\n                .then((response) => {\r\n                    // 검색 결과를 받아온 후 처리\r\n                    const searchedOrders = response.data;\r\n                    setSearchedOrders(searchedOrders);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // 검색 결과가 변경될 때마다 호출되는 로직\r\n        if (searchedOrders.length > 0) {\r\n            // 검색 결과가 있을 경우 추가 작업 수행 가능\r\n            console.log(searchedOrders);\r\n        }\r\n    }, [searchedOrders]);\r\n\r\n    return (\r\n        <section>\r\n            {/* 검색 입력란과 검색 버튼 */}\r\n            <div className=\"search-bar_order\">\r\n            <select className=\"admincategoryorder_layout\" value={searchCategory} onChange={handleCategoryChange}>\r\n                <option value=\"\">카테고리 선택</option>\r\n                <option value=\"orderid\">상품ID</option>\r\n                <option value=\"userid\">주문자ID</option>\r\n            </select>\r\n                <input type=\"text\" value={searchText} onChange={handleSearchInputChange} placeholder=\"제목검색\" />\r\n                <button onClick={handleSearch}>검색</button>\r\n            </div>\r\n            <table className='AdminBoard_table'>\r\n                <thead>\r\n                <tr className='AdminBoardFormth'>\r\n                    <th>주문번호</th>\r\n                    <th>주문ID</th>\r\n                    <th>가격(원)</th>\r\n                    <th>주문시간</th>\r\n                    <th>배송상태</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {(searchedOrders.length > 0 ? searchedOrders : tmp).map((item) => (\r\n                    <tr className='AdminBoardFormtd'>\r\n                        <td className='AdminBoardFormtdcenter'>{item.orderid}</td>\r\n                        <td className='AdminBoardFormtdcenter'>{item.userid}</td>\r\n                        <td className='AdminBoardFormtdcenter'>{item.deliverycost}</td>\r\n                        <td className='AdminBoardFormtdcenter'>{formatDate(item.orderdate)}</td>\r\n                        <td className='AdminBoardFormtdcenter'>{item.orderstatus}</td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default AdminOrderLayout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}