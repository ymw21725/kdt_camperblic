{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import\"../../styles/paymentStyles/Cart.css\";import TitleLayout from\"./TitleLayout\";import ItemlistCart from\"./ItemlistCart\";import ChargeBox from\"./ChargeBox\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),carts=_useState2[0],setCarts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];// 로딩 상태를 관리하기 위한 상태 변수 추가\nvar history=useNavigate();var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),rflag=_useState6[0],setFlag=_useState6[1];useEffect(function(){axios.get('/cart',{withCredentials:true}).then(function(response){console.log(response.data);setCarts(response.data);setLoading(false);// 로딩 상태 변경\nhistory(\"/cart\");}).catch(function(error){if(error.response.status===423){sessionStorage.clear();alert(\"사용자를 찾지 못했습니다. 로그인 상태를 확인해주세요.\");history(\"/login\");}console.log(error);setLoading(false);// 로딩 상태 변경\n});},[rflag]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// 로딩 중일 때 표시할 UI\n}if(carts===null){// 응답이 도착하지 않았거나 null인 경우\nreturn/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// 또는 로딩 중을 나타내는 다른 UI를 표시할 수 있습니다.\n}return/*#__PURE__*/_jsxs(\"section\",{className:\"cartLayout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section_wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list_section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list_inner\",children:[/*#__PURE__*/_jsx(TitleLayout,{}),/*#__PURE__*/_jsx(ItemlistCart,{carts:carts,setFlag:setFlag,rflag:rflag})]})}),/*#__PURE__*/_jsx(ChargeBox,{carts:carts})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress_section\"})]});};export default Cart;","map":{"version":3,"names":["React","useEffect","useState","TitleLayout","ItemlistCart","ChargeBox","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Cart","_useState","_useState2","_slicedToArray","carts","setCarts","_useState3","_useState4","loading","setLoading","history","_useState5","_useState6","rflag","setFlag","get","withCredentials","then","response","console","log","data","catch","error","status","sessionStorage","clear","alert","children","className"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/payment/Cart.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport \"../../styles/paymentStyles/Cart.css\";\nimport TitleLayout from \"./TitleLayout\";\nimport ItemlistCart from \"./ItemlistCart\";\nimport ChargeBox from \"./ChargeBox\";\nimport axios from \"axios\";\nimport {useNavigate} from \"react-router-dom\";\n\nexport interface CartList {\n    cartid: number,\n    image_path: string,\n    name: string,\n    itemcount: number,\n    price: number,\n}\n\nconst Cart = () => {\n    const [carts, setCarts] = useState<CartList[] | null>(null);\n    const [loading, setLoading] = useState(true); // 로딩 상태를 관리하기 위한 상태 변수 추가\n    const history = useNavigate();\n    const [rflag , setFlag] = useState<boolean>(true)\n    useEffect(() => {\n        axios.get('/cart', {withCredentials : true})\n            .then(response => {\n                console.log(response.data);\n                setCarts(response.data);\n                setLoading(false); // 로딩 상태 변경\n                history(\"/cart\");\n            })\n            .catch(error => {\n                if (error.response.status === 423) {\n                    sessionStorage.clear();\n                    alert(\"사용자를 찾지 못했습니다. 로그인 상태를 확인해주세요.\");\n                    history(\"/login\");\n                }\n                console.log(error);\n                setLoading(false); // 로딩 상태 변경\n            })\n\n    }, [rflag]);\n\n    if (loading) {\n        return <div>Loading...</div>; // 로딩 중일 때 표시할 UI\n    }\n\n    if (carts === null) { // 응답이 도착하지 않았거나 null인 경우\n        return <div>Loading...</div>; // 또는 로딩 중을 나타내는 다른 UI를 표시할 수 있습니다.\n    }\n\n    return (\n        <section className=\"cartLayout\">\n            <div className=\"section_wrap\">\n                <div className=\"list_section\">\n                    <div className=\"list_inner\">\n                        <TitleLayout/>\n                        <ItemlistCart carts={carts} setFlag={setFlag} rflag={rflag}/>\n                    </div>\n                </div>\n                <ChargeBox carts={carts}/>\n            </div>\n            <div className=\"progress_section\"></div>\n        </section>\n    );\n};\n\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}