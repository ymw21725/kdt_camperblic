{"ast":null,"code":"import _defineProperty from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// AdminStockUpdate.jsx\nimport React,{useState,useEffect}from'react';import Modal from'react-modal';import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import'../../../../styles/adminStyles/AdminStockUpdate.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement('#root');var AdminStockUpdate=function AdminStockUpdate(_ref){var isOpen=_ref.isOpen,closeModal=_ref.closeModal,updateStock=_ref.updateStock,item=_ref.item;var _useState=useState(item.currentStock),_useState2=_slicedToArray(_useState,2),currentStock=_useState2[0],setCurrentStock=_useState2[1];var history=useNavigate();var _useState3=useState({itemId:\"\",categoryId:\"\",currentStock:0}),_useState4=_slicedToArray(_useState3,2),dataupdate=_useState4[0],setDataupdate=_useState4[1];useEffect(function(){setCurrentStock(item.currentStock);setDataupdate(function(prevData){return _objectSpread(_objectSpread({},prevData),{},{itemId:item.itemId,categoryId:item.categoryId,currentStock:item.currentStock});});},[item.currentStock]);var handleSubmit=function handleSubmit(e){e.preventDefault();axios.put(\"/adminstock/currentstock\",null,{params:dataupdate}).then(function(response){if(response.status===200){window.location.href='/';alert(\"정보 수정 성공 \");}}).catch(function(error){console.log(error);window.location.href='/adminstock';alert(error);});};// 모달 닫기 함수\nvar handleCloseModal=function handleCloseModal(){closeModal();// 모달 닫기\n};var handleChange=function handleChange(e){setDataupdate(_objectSpread(_objectSpread({},dataupdate),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onRequestClose:handleCloseModal// 모달 닫기 함수 사용\n,contentLabel:\"Add Product Modal\",className:\"adminmodal_update\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"adminmodal_title\",children:\"\\uC0C1\\uD488 \\uC7AC\\uACE0 \\uC218\\uC815\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"adminmodal_img\",src:item.imagePath,alt:\"\\uC0C1\\uD488 \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"adminmodal_p\",children:[\"\\uCE74\\uD14C\\uACE0\\uB9AC : \",item.categoryId]}),/*#__PURE__*/_jsxs(\"p\",{className:\"adminmodal_p\",children:[\"\\uC544\\uC774\\uD15C id: \",item.itemId]}),/*#__PURE__*/_jsxs(\"p\",{className:\"adminmodal_p\",children:[\"\\uC544\\uC774\\uD15C \\uBA85: \",item.name]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"adminmodal_form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\uC7AC\\uACE0 \\uC218\\uC815\",value:dataupdate.currentStock,name:\"currentStock\",className:\"adminmodal_input\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"adminmodal_btn\",type:\"submit\",children:\"\\uC7AC\\uACE0 \\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"adminmodal_btn\",onClick:handleCloseModal,children:\"\\uCDE8\\uC18C\"})]})]});};export default AdminStockUpdate;","map":{"version":3,"names":["React","useState","useEffect","Modal","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","setAppElement","AdminStockUpdate","_ref","isOpen","closeModal","updateStock","item","_useState","currentStock","_useState2","_slicedToArray","setCurrentStock","history","_useState3","itemId","categoryId","_useState4","dataupdate","setDataupdate","prevData","_objectSpread","handleSubmit","e","preventDefault","put","params","then","response","status","window","location","href","alert","catch","error","console","log","handleCloseModal","handleChange","_defineProperty","target","name","value","onRequestClose","contentLabel","className","children","src","imagePath","alt","onSubmit","type","placeholder","onChange","onClick"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/admin/components/adminstock/AdminStockUpdate.tsx"],"sourcesContent":["// AdminStockUpdate.jsx\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport Modal from 'react-modal';\r\nimport {Item} from '../../../../types';\r\nimport axios from \"axios\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport '../../../../styles/adminStyles/AdminStockUpdate.css';\r\n\r\nModal.setAppElement('#root');\r\n\r\ninterface AdminStockUpdateProps {\r\n    isOpen: boolean;\r\n    closeModal: () => void;\r\n    updateStock: (product: Item) => void;\r\n    item: Item;\r\n}\r\n\r\ninterface stockTmp {\r\n    itemId: string;\r\n    categoryId: string;\r\n    currentStock: number;\r\n}\r\n\r\nconst AdminStockUpdate: React.FC<AdminStockUpdateProps> = ({\r\n                                                               isOpen,\r\n                                                               closeModal,\r\n                                                               updateStock,\r\n                                                               item,\r\n                                                           }) => {\r\n    const [currentStock, setCurrentStock] = useState(item.currentStock);\r\n    const history = useNavigate ();\r\n    const [dataupdate, setDataupdate] = useState<stockTmp>({\r\n        itemId: \"\",\r\n        categoryId: \"\",\r\n        currentStock: 0,\r\n    });\r\n\r\n    useEffect(() => {\r\n        setCurrentStock(item.currentStock);\r\n        setDataupdate((prevData) => ({\r\n            ...prevData,\r\n            itemId: item.itemId,\r\n            categoryId: item.categoryId,\r\n            currentStock: item.currentStock,\r\n        }));\r\n    }, [item.currentStock]);\r\n\r\n\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        axios.put(\"/adminstock/currentstock\", null, {params: dataupdate})\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    window.location.href = '/';\r\n                    alert(\"정보 수정 성공 \");\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                window.location.href = '/adminstock';\r\n                alert(error);\r\n            });\r\n    };\r\n\r\n    // 모달 닫기 함수\r\n    const handleCloseModal = () => {\r\n        closeModal(); // 모달 닫기\r\n    };\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setDataupdate({ ...dataupdate, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            onRequestClose={handleCloseModal} // 모달 닫기 함수 사용\r\n            contentLabel=\"Add Product Modal\"\r\n            className='adminmodal_update'\r\n        >\r\n            <h2 className='adminmodal_title'>상품 재고 수정</h2>\r\n            <div>\r\n                <img className='adminmodal_img' src={item.imagePath} alt=\"상품 이미지\"/>\r\n                <p className='adminmodal_p'>카테고리 : {item.categoryId}</p>\r\n                <p className='adminmodal_p'>아이템 id: {item.itemId}</p>\r\n                <p className='adminmodal_p'>아이템 명: {item.name}</p>\r\n            </div>\r\n            <form className='adminmodal_form' onSubmit={handleSubmit}>\r\n                <input\r\n                    type=\"number\"\r\n                    placeholder=\"재고 수정\"\r\n                    value={dataupdate.currentStock}\r\n                    name={\"currentStock\"}\r\n                    className='adminmodal_input'\r\n                    onChange={handleChange}/>\r\n                <button className='adminmodal_btn' type=\"submit\">재고 수정</button>\r\n                <button className='adminmodal_btn' onClick={handleCloseModal}>취소</button>\r\n            </form>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default AdminStockUpdate;\r\n"],"mappings":"scAAA;AAEA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,MAAO,CAAAC,KAAK,KAAM,aAAa,CAE/B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,MAAO,qDAAqD,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7DN,KAAK,CAACO,aAAa,CAAC,OAAO,CAAC,CAe5B,GAAM,CAAAC,gBAAiD,CAAG,QAApD,CAAAA,gBAAiDA,CAAAC,IAAA,CAKU,IAJF,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CACNC,UAAU,CAAAF,IAAA,CAAVE,UAAU,CACVC,WAAW,CAAAH,IAAA,CAAXG,WAAW,CACXC,IAAI,CAAAJ,IAAA,CAAJI,IAAI,CAE/D,IAAAC,SAAA,CAAwChB,QAAQ,CAACe,IAAI,CAACE,YAAY,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAA5DC,YAAY,CAAAC,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,GAAM,CAAAG,OAAO,CAAGjB,WAAW,CAAE,CAAC,CAC9B,IAAAkB,UAAA,CAAoCtB,QAAQ,CAAW,CACnDuB,MAAM,CAAE,EAAE,CACVC,UAAU,CAAE,EAAE,CACdP,YAAY,CAAE,CAClB,CAAC,CAAC,CAAAQ,UAAA,CAAAN,cAAA,CAAAG,UAAA,IAJKI,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAMhCxB,SAAS,CAAC,UAAM,CACZmB,eAAe,CAACL,IAAI,CAACE,YAAY,CAAC,CAClCU,aAAa,CAAC,SAACC,QAAQ,SAAAC,aAAA,CAAAA,aAAA,IAChBD,QAAQ,MACXL,MAAM,CAAER,IAAI,CAACQ,MAAM,CACnBC,UAAU,CAAET,IAAI,CAACS,UAAU,CAC3BP,YAAY,CAAEF,IAAI,CAACE,YAAY,IACjC,CAAC,CACP,CAAC,CAAE,CAACF,IAAI,CAACE,YAAY,CAAC,CAAC,CAGvB,GAAM,CAAAa,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAmC,CAAK,CAC1DA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB7B,KAAK,CAAC8B,GAAG,CAAC,0BAA0B,CAAE,IAAI,CAAE,CAACC,MAAM,CAAER,UAAU,CAAC,CAAC,CAC5DS,IAAI,CAAC,SAACC,QAAQ,CAAK,CAChB,GAAIA,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CACzBC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC1BC,KAAK,CAAC,WAAW,CAAC,CACtB,CACJ,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClBL,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,aAAa,CACpCC,KAAK,CAACE,KAAK,CAAC,CAChB,CAAC,CAAC,CACV,CAAC,CAED;AACA,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC3BjC,UAAU,CAAC,CAAC,CAAE;AAClB,CAAC,CAED,GAAM,CAAAkC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIhB,CAAsC,CAAK,CAC7DJ,aAAa,CAAAE,aAAA,CAAAA,aAAA,IAAMH,UAAU,KAAAsB,eAAA,IAAGjB,CAAC,CAACkB,MAAM,CAACC,IAAI,CAAGnB,CAAC,CAACkB,MAAM,CAACE,KAAK,EAAE,CAAC,CACrE,CAAC,CAED,mBACI3C,KAAA,CAACN,KAAK,EACFU,MAAM,CAAEA,MAAO,CACfwC,cAAc,CAAEN,gBAAkB;AAAA,CAClCO,YAAY,CAAC,mBAAmB,CAChCC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAE7BjD,IAAA,OAAIgD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,wCAAQ,CAAI,CAAC,cAC9C/C,KAAA,QAAA+C,QAAA,eACIjD,IAAA,QAAKgD,SAAS,CAAC,gBAAgB,CAACE,GAAG,CAAEzC,IAAI,CAAC0C,SAAU,CAACC,GAAG,CAAC,iCAAQ,CAAC,CAAC,cACnElD,KAAA,MAAG8C,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,6BAAO,CAACxC,IAAI,CAACS,UAAU,EAAI,CAAC,cACxDhB,KAAA,MAAG8C,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,yBAAQ,CAACxC,IAAI,CAACQ,MAAM,EAAI,CAAC,cACrDf,KAAA,MAAG8C,SAAS,CAAC,cAAc,CAAAC,QAAA,EAAC,6BAAO,CAACxC,IAAI,CAACmC,IAAI,EAAI,CAAC,EACjD,CAAC,cACN1C,KAAA,SAAM8C,SAAS,CAAC,iBAAiB,CAACK,QAAQ,CAAE7B,YAAa,CAAAyB,QAAA,eACrDjD,IAAA,UACIsD,IAAI,CAAC,QAAQ,CACbC,WAAW,CAAC,2BAAO,CACnBV,KAAK,CAAEzB,UAAU,CAACT,YAAa,CAC/BiC,IAAI,CAAE,cAAe,CACrBI,SAAS,CAAC,kBAAkB,CAC5BQ,QAAQ,CAAEf,YAAa,CAAC,CAAC,cAC7BzC,IAAA,WAAQgD,SAAS,CAAC,gBAAgB,CAACM,IAAI,CAAC,QAAQ,CAAAL,QAAA,CAAC,2BAAK,CAAQ,CAAC,cAC/DjD,IAAA,WAAQgD,SAAS,CAAC,gBAAgB,CAACS,OAAO,CAAEjB,gBAAiB,CAAAS,QAAA,CAAC,cAAE,CAAQ,CAAC,EACvE,CAAC,EACJ,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA7C,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}