{"ast":null,"code":"import _slicedToArray from\"/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'../../../../styles/adminStyles/AdminBoardLayout.css';import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminBoardLayout=function AdminBoardLayout(_ref){var postings=_ref.postings,category=_ref.category;var formatDate=function formatDate(dateString){var date=new Date(dateString);var year=date.getFullYear();var month=String(date.getMonth()+1).padStart(2,'0');var day=String(date.getDate()).padStart(2,'0');var hour=String(date.getHours()).padStart(2,'0');var minute=String(date.getMinutes()).padStart(2,'0');var weekday=['일','월','화','수','목','금','토'][date.getDay()];return\"\".concat(year,\".\").concat(month,\".\").concat(day,\" \").concat(weekday,\" \").concat(hour,\"\\uC2DC\").concat(minute,\"\\uBD84\");};var navigate=useNavigate();var handleEdit=function handleEdit(bid,category){navigate(\"/boarddetail/\".concat(category,\"/\").concat(bid));};// 검색어 상태 관리\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];// 검색 카테고리 관리\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchCategory=_useState4[0],setSearchCategory=_useState4[1];// 검색 결과 상태 관리\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchedPostings=_useState6[0],setSearchedPostings=_useState6[1];// 검색어 입력 시 실행되는 함수\nvar handleSearchInputChange=function handleSearchInputChange(event){setSearchText(event.target.value);};// 카테고리 선택 시 실행되는 함수\nvar handleCategoryChange=function handleCategoryChange(event){setSearchCategory(event.target.value);};var handleSearch=function handleSearch(){// 검색어가 있을 경우에만 서버로 요청\nif(searchText.trim()!==''){axios.get(\"/adminboard/search/\".concat(searchCategory),{params:{searchText:searchText}}).then(function(response){// 검색 결과를 받아온 후 처리\nvar searchedPostings=response.data;setSearchedPostings(searchedPostings);}).catch(function(error){console.log(error);});}};useEffect(function(){// 검색 결과가 변경될 때마다 호출되는 로직\nif(searchedPostings.length>0){// 검색 결과가 있을 경우 추가 작업 수행 가능\nconsole.log(searchedPostings);}},[searchedPostings]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar_board\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"admincategory_board_layout\",value:searchCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"campstory\",children:\"\\uCEA0\\uD551\\uC774\\uC57C\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"freeboard\",children:\"\\uC790\\uC720\\uAC8C\\uC2DC\\uD310\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gathercamper\",children:\"\\uCEA0\\uD37C\\uAD6C\\uC778\"}),/*#__PURE__*/_jsx(\"option\",{value:\"reviewcamping\",children:\"\\uB9AC\\uBDF0\\uAC8C\\uC2DC\\uD310\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchText,onChange:handleSearchInputChange,placeholder:\"\\uC81C\\uBAA9\\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"\\uAC80\\uC0C9\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"AdminBoard_table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"AdminBoardFormth\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Views\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC218\\uC815\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(searchedPostings.length>0?searchedPostings:postings).map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"AdminBoardFormtd\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.id}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.name}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.title}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:formatDate(item.createdate)}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:item.views}),/*#__PURE__*/_jsx(\"td\",{className:\"AdminBoardFormtdcenter\",children:/*#__PURE__*/_jsx(\"button\",{className:\"adminBoardForm_btn\",onClick:function onClick(){return handleEdit(item.id,category);},children:\"\\uC218\\uC815\"})})]},item.id);})})]})]});};export default AdminBoardLayout;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","AdminBoardLayout","_ref","postings","category","formatDate","dateString","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hour","getHours","minute","getMinutes","weekday","getDay","concat","navigate","handleEdit","bid","_useState","_useState2","_slicedToArray","searchText","setSearchText","_useState3","_useState4","searchCategory","setSearchCategory","_useState5","_useState6","searchedPostings","setSearchedPostings","handleSearchInputChange","event","target","value","handleCategoryChange","handleSearch","trim","get","params","then","response","data","catch","error","console","log","length","children","className","onChange","type","placeholder","onClick","map","item","id","name","title","createdate","views"],"sources":["/Users/ethan/Documents/codream_final/camperblic/src/main/frontend/src/pages/admin/components/adminboard/AdminBoardLayout.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Posting} from \"../../../../types\";\r\nimport '../../../../styles/adminStyles/AdminBoardLayout.css';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\ninterface BoardLayOutProps {\r\n    postings: Posting[];\r\n    category: string;\r\n}\r\n\r\nconst AdminBoardLayout:React.FC<BoardLayOutProps> = ({ postings,category }) => {\r\n    const formatDate = (dateString: string) => {\r\n        const date = new Date(dateString);\r\n        const year = date.getFullYear();\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const hour = String(date.getHours()).padStart(2, '0');\r\n        const minute = String(date.getMinutes()).padStart(2, '0');\r\n        const weekday = ['일', '월', '화', '수', '목', '금', '토'][date.getDay()];\r\n\r\n        return `${year}.${month}.${day} ${weekday} ${hour}시${minute}분`;\r\n    };\r\n\r\n    const navigate = useNavigate();\r\n    const handleEdit = (bid: number, category: string) => {\r\n        navigate(`/boarddetail/${category}/${bid}`);\r\n    };\r\n\r\n    // 검색어 상태 관리\r\n    const [searchText, setSearchText] = useState('');\r\n    // 검색 카테고리 관리\r\n    const [searchCategory,setSearchCategory] = useState('');\r\n    // 검색 결과 상태 관리\r\n    const [searchedPostings, setSearchedPostings] = useState<Posting[]>([]);\r\n\r\n    // 검색어 입력 시 실행되는 함수\r\n    const handleSearchInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setSearchText(event.target.value);\r\n    };\r\n\r\n    // 카테고리 선택 시 실행되는 함수\r\n    const handleCategoryChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setSearchCategory(event.target.value);\r\n    };\r\n\r\n    const handleSearch = () => {\r\n        // 검색어가 있을 경우에만 서버로 요청\r\n        if (searchText.trim() !== '') {\r\n            axios\r\n                .get(`/adminboard/search/${searchCategory}`, {\r\n                    params: {\r\n                        searchText: searchText,\r\n                    },\r\n                })\r\n                .then((response) => {\r\n                    // 검색 결과를 받아온 후 처리\r\n                    const searchedPostings = response.data;\r\n                    setSearchedPostings(searchedPostings);\r\n                })\r\n                .catch((error) => {\r\n                    console.log(error);\r\n                });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // 검색 결과가 변경될 때마다 호출되는 로직\r\n        if (searchedPostings.length > 0) {\r\n            // 검색 결과가 있을 경우 추가 작업 수행 가능\r\n            console.log(searchedPostings);\r\n        }\r\n    }, [searchedPostings]);\r\n\r\n    return (\r\n        <section>\r\n            {/* 검색 입력란과 검색 버튼 */}\r\n            <div className=\"search-bar_board\">\r\n            <select className=\"admincategory_board_layout\" value={searchCategory} onChange={handleCategoryChange}>\r\n                <option value=\"\">카테고리 선택</option>\r\n                <option value=\"campstory\">캠핑이야기</option>\r\n                <option value=\"freeboard\">자유게시판</option>\r\n                <option value=\"gathercamper\">캠퍼구인</option>\r\n                <option value=\"reviewcamping\">리뷰게시판</option>\r\n            </select>\r\n                <input type=\"text\" value={searchText} onChange={handleSearchInputChange} placeholder=\"제목검색\" />\r\n                <button onClick={handleSearch}>검색</button>\r\n            </div>\r\n            <table className='AdminBoard_table'>\r\n                <thead>\r\n                <tr className='AdminBoardFormth'>\r\n                    <th>ID</th>\r\n                    <th>작성자</th>\r\n                    <th>제목</th>\r\n                    <th>작성일</th>\r\n                    <th>Views</th>\r\n                    <th>수정</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {(searchedPostings.length > 0 ? searchedPostings : postings).map((item) => (\r\n                    <tr className=\"AdminBoardFormtd\" key={item.id}>\r\n                        <td className=\"AdminBoardFormtdcenter\">{item.id}</td>\r\n                        <td className=\"AdminBoardFormtdcenter\">{item.name}</td>\r\n                        <td className=\"AdminBoardFormtdcenter\">{item.title}</td>\r\n                        <td className=\"AdminBoardFormtdcenter\">{formatDate(item.createdate)}</td>\r\n                        <td className=\"AdminBoardFormtdcenter\">{item.views}</td>\r\n                        <td className=\"AdminBoardFormtdcenter\">\r\n                            <button className=\"adminBoardForm_btn\" onClick={() => handleEdit(item.id, category)}>\r\n                                수정\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default AdminBoardLayout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}